{"version":3,"sources":["webpack:///./src/apis/admin.js","webpack:///./src/views/admin/histories/Order.vue?bb4f","webpack:///src/views/admin/histories/Order.vue","webpack:///./src/views/admin/histories/Order.vue?570f","webpack:///./src/views/admin/histories/Order.vue"],"names":["getAllProducts","params","fetchPost","getProduct","updateProduct","updateProductQrcode","deleteProductQrcode","getAllUser","getUserDetail","getAllAccount","getAccountDetail","getOrderHistory","getAllSettings","getEmailHistory","getDayFlowUsage","randomAccountPassword","updateAccountPassword","updateAccountFlow","updateAccountExpiration","updateUserBasicInfo","createAnnouncement","getAnnouncements","delAnnouncement","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","responsive","striped","hover","items","orders","fields","scopedSlots","_u","key","fn","data","_v","_s","$formatTime","value","item","uid","o","alipay","_e","wechatpay","align","size","limit","total-rows","totalOrders","per-page","itemsPerPage","on","change","$event","refresh","model","callback","$$v","currentPage","expression","staticRenderFns","Ordervue_type_script_lang_js_","name","sortable","label","formatter","computed","methods","page","_this","undefined","Object","admin","perPage","then","resp","total","created","histories_Ordervue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"8zBAEaA,EAAiB,SAASC,GACnC,OAAOC,eAAU,4BAA6BD,IAGrCE,EAAa,SAASF,GAC/B,OAAOC,eAAU,yBAA0BD,IAGlCG,EAAgB,SAASH,GAClC,OAAOC,eAAU,4BAA6BD,IAIrCI,EAAsB,SAASJ,GACxC,OAAOC,eAAU,kCAAmCD,IAG3CK,EAAsB,SAASL,GACxC,OAAOC,eAAU,kCAAmCD,IAG3CM,EAAa,SAASN,GAC/B,OAAOC,eAAU,yBAA0BD,IAGlCO,EAAgB,SAASP,GAClC,OAAOC,eAAU,4BAA6BD,IAGrCQ,EAAgB,SAASR,GAClC,OAAOC,eAAU,yBAA0BD,IAGlCS,EAAmB,SAAST,GACrC,OAAOC,eAAU,+BAAgCD,IAGxCU,EAAkB,SAASV,GACpC,OAAOC,eAAU,8BAA+BD,IAGvCW,EAAiB,SAASX,GACnC,OAAOC,eAAU,4BAA6BD,IAOrCY,EAAkB,SAASZ,GACpC,OAAOC,eAAU,2BAA4BD,IAIpCa,EAAkB,SAASb,GACpC,OAAOC,eAAU,gCAAiCD,IASzCc,EAAwB,SAASd,GAC1C,OAAOC,eAAU,oCAAqCD,IAG7Ce,EAAwB,SAASf,GAC1C,OAAOC,eAAU,oCAAqCD,IAG7CgB,EAAoB,SAAShB,GACtC,OAAOC,eAAU,qCAAsCD,IAG9CiB,EAA0B,SAASjB,GAC5C,OAAOC,eAAU,sCAAuCD,IAG/CkB,EAAsB,SAASlB,GACxC,OAAOC,eAAU,6BAA8BD,IAGtCmB,EAAqB,SAASnB,GACvC,OAAOC,eAAU,iCAAkCD,IAG1CoB,EAAmB,SAASpB,GACrC,OAAOC,eAAU,iCAAkCD,IAG1CqB,EAAkB,SAASrB,GACpC,OAAOC,eAAU,iCAAkCD,8CC/FvD,IAAAsB,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,oBAA+B,CAAAF,EAAA,WAAgBG,MAAA,CAAOC,WAAA,GAAAC,QAAA,GAAAC,MAAA,GAAAC,MAAAX,EAAAY,OAAAC,OAAAb,EAAAa,QAA+EC,YAAAd,EAAAe,GAAA,EAAsBC,IAAA,OAAAC,GAAA,SAAAC,GAA6B,OAAAlB,EAAAmB,GAAA,aAAAnB,EAAAoB,GAAApB,EAAAqB,YAAAH,EAAAI,QAAA,eAA8E,CAAEN,IAAA,OAAAC,GAAA,SAAAC,GAA6B,OAAAlB,EAAAmB,GAAA,aAAAnB,EAAAoB,GAAAF,EAAAK,KAAAC,KAAA,eAAgE,CAAER,IAAA,MAAAC,GAAA,SAAAC,GAA4B,OAAAA,EAAAK,KAAA,OAAAnB,EAAA,QAAAJ,EAAAmB,GAAAnB,EAAAoB,GAAA,WAAApB,EAAAyB,EAAAC,WAAA1B,EAAA2B,KAAAT,EAAAK,KAAA,UAAAnB,EAAA,QAAAJ,EAAAmB,GAAAnB,EAAAoB,GAAA,cAAApB,EAAAyB,EAAAG,cAAA5B,EAAA2B,YAA4LvB,EAAA,gBAAqBG,MAAA,CAAOsB,MAAA,SAAAC,KAAA,KAAAC,MAAA,GAAAC,aAAAhC,EAAAiC,YAAAC,WAAAlC,EAAAmC,cAAiGC,GAAA,CAAKC,OAAA,SAAAC,GAA0BtC,EAAAuC,QAAAD,KAAqBE,MAAA,CAAQlB,MAAAtB,EAAA,YAAAyC,SAAA,SAAAC,GAAiD1C,EAAA2C,YAAAD,GAAoBE,WAAA,kBAA2B,IACl8BC,EAAA,eCwBAC,EAAA,CACAC,KAAA,aACA7B,KAFA,WAGA,OACAN,OAAA,GACAC,OAAA,CACA,CAAAG,IAAA,KAAAgC,UAAA,GACA,CAAAhC,IAAA,MAAAgC,UAAA,GACA,CAAAhC,IAAA,OAAAiC,MAAA,QACA,CAAAjC,IAAA,QACA,CAAAA,IAAA,MAAAiC,MAAA,QACA,CAAAjC,IAAA,YAAAkC,UAAAjD,KAAAoB,aACA,CAAAL,IAAA,qBAAAkC,UAAAjD,KAAAoB,aACA,CAAAL,IAAA,SAAAkC,UAAAjD,KAAAoB,aACA,CAAAL,IAAA,SAAAiC,MAAA,WAEAN,YAAA,EACAR,aAAA,GACAF,YAAA,IAGAkB,SAAA,GAEAC,QAAA,CACAb,QADA,SACAc,GAAA,IAAAC,EAAArD,UACAsD,IAAAF,IACAA,EAAApD,KAAA0C,aAEAa,OAAAC,EAAA,KAAAD,CAAA,CACAH,OACAK,QAAAzD,KAAAkC,eACAwB,KAAA,SAAAC,GACAN,EAAArB,YAAA2B,EAAAhD,OAAAiD,MACAP,EAAA1C,OAAAgD,EAAAhD,OAAAD,UAIAmD,QArCA,WAsCA7D,KAAAsC,YC/D6WwB,EAAA,cCO7WC,EAAgBR,OAAAS,EAAA,KAAAT,CACdO,EACAhE,EACA8C,GACF,EACA,KACA,KACA,MAIAmB,EAAAE,QAAAC,OAAA,YACeC,EAAA,WAAAJ","file":"vstatic/js/chunk-4fae7c5f.fa6a02cc.js","sourcesContent":["import {fetchPost} from './apibase.js'\r\n\r\nexport const getAllProducts = function(params) {\r\n    return fetchPost('/api/admin/product/getAll', params);\r\n}\r\n\r\nexport const getProduct = function(params) {\r\n    return fetchPost('/api/admin/product/get', params);\r\n}\r\n\r\nexport const updateProduct = function(params) {\r\n    return fetchPost('/api/admin/product/update', params);\r\n}\r\n\r\n\r\nexport const updateProductQrcode = function(params) {\r\n    return fetchPost('/api/admin/productQrcode/update', params);\r\n}\r\n\r\nexport const deleteProductQrcode = function(params) {\r\n    return fetchPost('/api/admin/productQrcode/delete', params);\r\n}\r\n\r\nexport const getAllUser = function(params) {\r\n    return fetchPost('/api/admin/user/getAll', params);\r\n}\r\n\r\nexport const getUserDetail = function(params) {\r\n    return fetchPost('/api/admin/user/getDetail', params);\r\n}\r\n\r\nexport const getAllAccount = function(params) {\r\n    return fetchPost('/api/admin/account/get', params);\r\n}\r\n\r\nexport const getAccountDetail = function(params) {\r\n    return fetchPost('/api/admin/account/getDetail', params)\r\n}\r\n\r\nexport const getOrderHistory = function(params) {\r\n    return fetchPost('/api/admin/orderHistory/get', params)\r\n}\r\n\r\nexport const getAllSettings = function(params) {\r\n    return fetchPost('/api/admin/setting/getAll', params)\r\n}\r\n\r\nexport const getAllEmails = function(params) {\r\n    return fetchPost('/api/admin/email/getAll', params);\r\n}\r\n\r\nexport const getEmailHistory = function(params) {\r\n    return fetchPost('/api/admin/email/getPage', params);\r\n}\r\n\r\n\r\nexport const getDayFlowUsage = function(params) {\r\n    return fetchPost('/api/admin/flowUsage/getInDay', params)\r\n}\r\n\r\nexport const getMonFlowUsage = function(params) {\r\n    return fetchPost('/api/admin/flowUsage/getInMon', params)\r\n}\r\n\r\n// ==================\r\n\r\nexport const randomAccountPassword = function(params) {\r\n    return fetchPost('/api/admin/account/randomPassword', params)\r\n}\r\n\r\nexport const updateAccountPassword = function(params) {\r\n    return fetchPost('/api/admin/account/updatePassword', params)\r\n}\r\n\r\nexport const updateAccountFlow = function(params) {\r\n    return fetchPost('/api/admin/account/updateTotalFlow', params)\r\n}\r\n\r\nexport const updateAccountExpiration = function(params) {\r\n    return fetchPost('/api/admin/account/updateExpiration', params)\r\n}\r\n\r\nexport const updateUserBasicInfo = function(params) {\r\n    return fetchPost('/api/admin/user/updateInfo', params);\r\n}\r\n\r\nexport const createAnnouncement = function(params) {\r\n    return fetchPost('/api/admin/announcement/create', params);\r\n}\r\n\r\nexport const getAnnouncements = function(params) {\r\n    return fetchPost('/api/admin/announcement/getAll', params);\r\n}\r\n\r\nexport const delAnnouncement = function(params) {\r\n    return fetchPost('/api/admin/announcement/delete', params);\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"table-responsive\"},[_c('b-table',{attrs:{\"responsive\":\"\",\"striped\":\"\",\"hover\":\"\",\"items\":_vm.orders,\"fields\":_vm.fields},scopedSlots:_vm._u([{key:\"time\",fn:function(data){return [_vm._v(\"\\r\\n      \"+_vm._s(_vm.$formatTime(data.value))+\"\\r\\n    \")]}},{key:\"user\",fn:function(data){return [_vm._v(\"\\r\\n      \"+_vm._s(data.item.uid)+\"\\r\\n    \")]}},{key:\"pay\",fn:function(data){return [(data.item.alipay)?_c('span',[_vm._v(_vm._s('Alipay: ' + _vm.o.alipay))]):_vm._e(),(data.item.wechatpay)?_c('span',[_vm._v(_vm._s('WechatPay: ' + _vm.o.wechatpay))]):_vm._e()]}}])}),_c('b-pagination',{attrs:{\"align\":\"center\",\"size\":\"md\",\"limit\":10,\"total-rows\":_vm.totalOrders,\"per-page\":_vm.itemsPerPage},on:{\"change\":function($event){_vm.refresh($event)}},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  \r\n<div class=\"table-responsive\">\r\n  <b-table responsive striped hover :items=\"orders\" :fields=\"fields\">\r\n    <template slot=\"time\" slot-scope=\"data\" >\r\n      {{$formatTime(data.value)}}\r\n    </template>\r\n    <template slot=\"user\" slot-scope=\"data\" >\r\n      {{ data.item.uid }}\r\n    </template>\r\n    <template slot=\"pay\" slot-scope=\"data\" >\r\n      <span v-if=\"data.item.alipay\">{{ 'Alipay: ' + o.alipay }}</span>\r\n      <span v-if=\"data.item.wechatpay\">{{ 'WechatPay: ' + o.wechatpay }}</span>\r\n    </template>\r\n  </b-table>\r\n  <b-pagination align=\"center\" size=\"md\" :limit=\"10\" \r\n    :total-rows=\"totalOrders\" v-model=\"currentPage\" \r\n    :per-page=\"itemsPerPage\" @change=\"refresh($event)\" >\r\n  </b-pagination>\r\n</div>\r\n\r\n</template>>\r\n\r\n<script>\r\nimport {getOrderHistory} from '@/apis/admin.js'\r\nexport default {\r\n  name: \"adminOrder\",\r\n  data() {\r\n    return {\r\n      orders: [],\r\n      fields: [\r\n        {key: \"id\", sortable: true},\r\n        {key: \"pid\", sortable: true},\r\n        {key: \"user\", label: \"user\"},\r\n        {key: \"code\"},\r\n        {key: \"pay\", label: \"支付方式\"},\r\n        {key: 'orderTime', formatter: this.$formatTime},\r\n        {key: 'bufferPeriodExpire', formatter: this.$formatTime},\r\n        {key: 'expire', formatter: this.$formatTime},\r\n        {key: \"action\", label: \"Action\"},\r\n      ],\r\n      currentPage: 1,\r\n      itemsPerPage: 20,\r\n      totalOrders: 0\r\n    }\r\n  },\r\n  computed: {\r\n  },\r\n  methods: {\r\n    refresh(page) {\r\n      if(page === undefined) {\r\n        page = this.currentPage;\r\n      }\r\n      getOrderHistory({\r\n        page: page,\r\n        perPage: this.itemsPerPage\r\n      }).then( resp => {\r\n        this.totalOrders = resp.orders.total;\r\n        this.orders = resp.orders.items;\r\n      })\r\n    }\r\n  },\r\n  created() {\r\n    this.refresh()\r\n  }\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Order.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Order.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Order.vue?vue&type=template&id=26e988c6&\"\nimport script from \"./Order.vue?vue&type=script&lang=js&\"\nexport * from \"./Order.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Order.vue\"\nexport default component.exports"],"sourceRoot":""}