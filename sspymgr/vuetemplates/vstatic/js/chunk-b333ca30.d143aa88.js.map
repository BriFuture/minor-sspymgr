{"version":3,"sources":["webpack:///./src/components/admin/ProductQrcode.vue?5a8d","webpack:///./src/views/admin/ProductDetail.vue?79e6","webpack:///./src/components/admin/ProductQrcode.vue?3510","webpack:///src/components/admin/ProductQrcode.vue","webpack:///./src/components/admin/ProductQrcode.vue?bd9b","webpack:///./src/components/admin/ProductQrcode.vue","webpack:///src/views/admin/ProductDetail.vue","webpack:///./src/views/admin/ProductDetail.vue?dc87","webpack:///./src/views/admin/ProductDetail.vue","webpack:///./src/apis/admin.js"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ProductQrcode_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ProductQrcode_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","attrs","slot","staticClass","_v","_s","product","id","on","change","$event","pVariant","model","value","callback","$$v","$set","expression","variant","disabled","click","productChange","prepend","append","flow","type","flowChanged","duration","durationChanged","bufferPeriod","bufferChanged","qrcode","alipay","category","update","updateQrcode","delete","deleteQrcode","wechatpay","staticRenderFns","ProductQrcodevue_type_template_id_00306ae4_render","title","directives","name","rawName","modifiers","hover","staticStyle","min-height","min-width","max-height","max-width","src","image","showFile","file","state","Boolean","placeholder","fileChanged","updated","$emit","ProductQrcodevue_type_template_id_00306ae4_staticRenderFns","fileTypes","validFileType","i","length","ProductQrcodevue_type_script_lang_js_","props","Object","String","data","watch","nv","ov","created","methods","event","_this","target","files","reader","FileReader","readAsBinaryString","onload","e","btoa","result","alert","admin_ProductQrcodevue_type_script_lang_js_","component","componentNormalizer","options","__file","ProductQrcode","ProductDetailvue_type_script_lang_js_","components","price","pid","desc","durationUnit","computed","param","objectSpread","productId","admin","then","resp","status","location","reload","_this2","$route","params","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","qrcodes","Symbol","iterator","next","done","err","return","admin_ProductDetailvue_type_script_lang_js_","ProductDetail_component","__webpack_exports__","getAllProducts","fetchPost","getProduct","updateProduct","updateProductQrcode","deleteProductQrcode","getAllUser","getUserDetail","getAllAccount","getAccountDetail","getOrderHistory","getAllSettings","getEmailHistory","getDayFlowUsage","randomAccountPassword","updateAccountPassword","updateAccountFlow","updateAccountExpiration","updateUserBasicInfo","createAnnouncement","getAnnouncements","delAnnouncement"],"mappings":"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","file":"vstatic/js/chunk-b333ca30.d143aa88.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductQrcode.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductQrcode.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-card',[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-4 col-sm-3\"},[_vm._v(\"\\r\\n          Id: \"+_vm._s(_vm.product.id)+\"\\r\\n        \")]),_c('div',{staticClass:\"col-4 col-sm-3\"},[_vm._v(\"\\r\\n          启用：\"),_c('a-switch',{on:{\"change\":function($event){_vm.pVariant = 'primary'}},model:{value:(_vm.product.enable),callback:function ($$v) {_vm.$set(_vm.product, \"enable\", $$v)},expression:\"product.enable\"}})],1),_c('div',{staticClass:\"col-4 col-sm-3\"},[_c('b-button',{attrs:{\"variant\":_vm.pVariant,\"disabled\":_vm.pVariant === 'secondary'},on:{\"click\":function($event){_vm.productChange()}}},[_vm._v(\"更改\\r\\n          \")])],1)])]),_c('b-form-group',[_c('div',{staticClass:\"row my-2\"},[_c('b-input-group',{staticClass:\"col-6 col-sm-3 mb-2\",attrs:{\"prepend\":\"流量\",\"append\":\"GB\"}},[_c('b-form-input',{attrs:{\"value\":_vm.flow,\"type\":\"number\"},on:{\"change\":function($event){_vm.flowChanged($event)}}})],1),_c('b-input-group',{staticClass:\"col-6 col-sm-3 mb-2\",attrs:{\"prepend\":\"价格\",\"append\":\"元\"}},[_c('b-form-input',{attrs:{\"type\":\"number\"},on:{\"change\":function($event){_vm.pVariant = 'primary'}},model:{value:(_vm.product.price),callback:function ($$v) {_vm.$set(_vm.product, \"price\", $$v)},expression:\"product.price\"}})],1),_c('b-input-group',{staticClass:\"col-6 col-sm-3 mb-2\",attrs:{\"prepend\":\"时长\",\"append\":\"天\"}},[_c('b-form-input',{attrs:{\"value\":_vm.duration,\"type\":\"number\"},on:{\"change\":function($event){_vm.durationChanged($event)}}})],1),_c('b-input-group',{staticClass:\"col-6 col-sm-3 mb-2\",attrs:{\"prepend\":\"缓冲期\",\"append\":\"时\"}},[_c('b-form-input',{attrs:{\"value\":_vm.bufferPeriod,\"type\":\"number\"},on:{\"change\":function($event){_vm.bufferChanged($event)}}})],1)],1),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"mt-2 col-12 col-sm-6\"},[_c('product-qrcode',{attrs:{\"qrcode\":_vm.alipay,\"category\":\"alipay\"},on:{\"update\":function($event){_vm.updateQrcode($event)},\"delete\":function($event){_vm.deleteQrcode($event)}}})],1),_c('div',{staticClass:\"mt-2 col-12 col-sm-6\"},[_c('product-qrcode',{attrs:{\"qrcode\":_vm.wechatpay,\"category\":\"wechatpay\"},on:{\"update\":function($event){_vm.updateQrcode($event)},\"delete\":function($event){_vm.deleteQrcode($event)}}})],1)])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-card',{attrs:{\"title\":_vm.category}},[_c('div',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"text-center\",attrs:{\"title\":\"点击选择新的二维码\"}},[_c('img',{staticClass:\"border\",staticStyle:{\"min-height\":\"150px\",\"min-width\":\"150px\",\"max-height\":\"300px\",\"max-width\":\"300px\"},attrs:{\"src\":'data:image/png;base64, ' + _vm.image},on:{\"click\":function($event){_vm.showFile = !_vm.showFile}}})]),_c('b-collapse',{attrs:{\"id\":\"qrcodeImageUploader\"},model:{value:(_vm.showFile),callback:function ($$v) {_vm.showFile=$$v},expression:\"showFile\"}},[_c('div',{staticClass:\"my-2\"},[_c('b-form-file',{attrs:{\"value\":_vm.file,\"state\":Boolean(_vm.file),\"placeholder\":\"更换二维码\"},on:{\"change\":function($event){_vm.fileChanged($event)}}}),_c('div',{staticClass:\"mt-3\"},[_c('span',[_vm._v(\"Selected file: \"+_vm._s(_vm.file && _vm.file.name))]),_c('span',{staticClass:\"float-right\"})])],1)]),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('b-form-group',{staticClass:\"mb-2\"},[_c('b-input-group',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],attrs:{\"prepend\":\"描述\",\"title\":\"便于管理员区分不同的二维码\"}},[_c('b-form-input',{on:{\"change\":function($event){_vm.updated=true}},model:{value:(_vm.qrcode.desc),callback:function ($$v) {_vm.$set(_vm.qrcode, \"desc\", $$v)},expression:\"qrcode.desc\"}})],1),_c('b-input-group',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],attrs:{\"prepend\":\"标记\",\"title\":\"保留的字段\"}},[_c('b-form-input',{on:{\"change\":function($event){_vm.updated=true}},model:{value:(_vm.qrcode.remark),callback:function ($$v) {_vm.$set(_vm.qrcode, \"remark\", $$v)},expression:\"qrcode.remark\"}})],1),_c('b-input-group',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],attrs:{\"prepend\":\"路径\",\"title\":\"保存在服务器上的路径\"}},[_c('b-form-input',{on:{\"change\":function($event){_vm.updated=true}},model:{value:(_vm.qrcode.path),callback:function ($$v) {_vm.$set(_vm.qrcode, \"path\", $$v)},expression:\"qrcode.path\"}})],1)],1),_c('div',[_c('b-button',{attrs:{\"variant\":\"primary\",\"disabled\":!_vm.updated},on:{\"click\":function($event){_vm.$emit('update', _vm.qrcode)}}},[_vm._v(\"上传\")]),_c('b-button',{staticClass:\"float-right\",on:{\"click\":function($event){_vm.$emit('delete', _vm.qrcode)}}},[_vm._v(\"删除\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-card :title=\"category\" >\r\n    <div class=\"text-center\" v-b-tooltip.hover title=\"点击选择新的二维码\">\r\n      <img class=\"border\" @click=\"showFile = !showFile\" \r\n        :src=\"'data:image/png;base64, ' + image\" \r\n        style=\"min-height:150px; min-width:150px; max-height:300px; max-width:300px;\" />\r\n    </div>\r\n    <b-collapse v-model=\"showFile\" id=\"qrcodeImageUploader\">\r\n      <div class=\"my-2\">\r\n        <b-form-file :value=\"file\" :state=\"Boolean(file)\" @change=\"fileChanged($event)\"\r\n          placeholder=\"更换二维码\"></b-form-file>\r\n        <div class=\"mt-3\">\r\n          <span >Selected file: {{file && file.name}}</span>\r\n          <span class=\"float-right\">\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </b-collapse>\r\n    <div slot=\"footer\">\r\n      <b-form-group class=\"mb-2\">\r\n        <b-input-group prepend=\"描述\" v-b-tooltip.hover title=\"便于管理员区分不同的二维码\">\r\n          <b-form-input @change=\"updated=true\" v-model=\"qrcode.desc\"></b-form-input>\r\n        </b-input-group>\r\n        <b-input-group prepend=\"标记\" v-b-tooltip.hover title=\"保留的字段\">\r\n          <b-form-input @change=\"updated=true\" v-model=\"qrcode.remark\"></b-form-input>\r\n        </b-input-group>\r\n        <b-input-group prepend=\"路径\" v-b-tooltip.hover title=\"保存在服务器上的路径\">\r\n          <b-form-input @change=\"updated=true\" v-model=\"qrcode.path\"></b-form-input>\r\n        </b-input-group>\r\n      </b-form-group>\r\n      <div>\r\n        <b-button variant=\"primary\" @click=\"$emit('update', qrcode)\" \r\n          :disabled=\"!updated\">上传</b-button>\r\n        <b-button class=\"float-right\" @click=\"$emit('delete', qrcode)\" \r\n          >删除</b-button>\r\n      </div>\r\n    </div>\r\n  </b-card>\r\n</template>\r\n\r\n<script>\r\n\r\nvar fileTypes = [\r\n  'image/jpeg',\r\n  'image/pjpeg',\r\n  'image/jpg',\r\n  'image/png',\r\n  'image/gif',\r\n]\r\n\r\nfunction validFileType(file) {\r\n  for(let i = 0; i < fileTypes.length; i++) {\r\n    if(file.type === fileTypes[i]) {\r\n      return true;\r\n    }\r\n  }\r\n  return false;\r\n}\r\n\r\nexport default {\r\n  name: 'productQrcode',\r\n  props: {\r\n    qrcode: Object,\r\n    category: String,\r\n  },\r\n  data() {\r\n    return {\r\n      file: null,\r\n      showFile: false,\r\n      image: null,\r\n      updated: false,\r\n      // imgSrc: null,\r\n    }\r\n  },\r\n  watch: {\r\n    qrcode(nv, ov) {\r\n      if( this.qrcode.qrcode) {\r\n        this.image = this.qrcode.qrcode;\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    // if(!this.qrcode.qrcode) {\r\n    //   this.qrcode.qrcode = 'R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';\r\n    // }\r\n    if( this.qrcode.qrcode) {\r\n      this.image = this.qrcode.qrcode;\r\n    }\r\n  },\r\n  methods: {\r\n\r\n    fileChanged(event) {\r\n      let file = event.target.files[0];\r\n      this.file = file;\r\n      if(validFileType(file)) {\r\n        // this.imgSrc = window.URL.createObjectURL(file);\r\n        const reader = new FileReader();\r\n        reader.readAsBinaryString(file);\r\n        reader.onload = (e) => {\r\n          this.image = btoa(e.target.result);\r\n          this.qrcode.qrcode = this.image;\r\n          this.updated = true;\r\n        }\r\n      } else {\r\n        this.file = null\r\n        alert('File name ' + file.name + ': Not a valid file type. Update your selection.');\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductQrcode.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductQrcode.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProductQrcode.vue?vue&type=template&id=00306ae4&\"\nimport script from \"./ProductQrcode.vue?vue&type=script&lang=js&\"\nexport * from \"./ProductQrcode.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProductQrcode.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"ProductQrcode.vue\"\nexport default component.exports","<template>\r\n<div>\r\n  <b-card>\r\n    <div slot=\"header\">\r\n      <div class=\"row\">\r\n        <div class=\"col-4 col-sm-3\">\r\n          Id: {{ product.id }}\r\n        </div>\r\n        <div class=\"col-4 col-sm-3\">\r\n          启用：<a-switch v-model=\"product.enable\" @change=\"pVariant = 'primary'\"></a-switch>\r\n        </div>\r\n        <div class=\"col-4 col-sm-3\">\r\n          <b-button :variant=\"pVariant\" :disabled=\"pVariant === 'secondary'\"\r\n            @click=\"productChange()\">更改\r\n          </b-button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <b-form-group>\r\n      <div class=\"row my-2\">\r\n        <b-input-group class=\"col-6 col-sm-3 mb-2\" prepend=\"流量\" append=\"GB\">\r\n          <b-form-input @change=\"flowChanged($event)\" \r\n            :value=\"flow\" type=\"number\"></b-form-input>\r\n        </b-input-group>\r\n        <b-input-group class=\"col-6 col-sm-3 mb-2\" prepend=\"价格\" append=\"元\">\r\n          <b-form-input @change=\"pVariant = 'primary'\" v-model=\"product.price\" type=\"number\"></b-form-input>\r\n        </b-input-group>\r\n        <b-input-group class=\"col-6 col-sm-3 mb-2\" prepend=\"时长\" append=\"天\">\r\n          <b-form-input @change=\"durationChanged($event)\"  \r\n            :value=\"duration\" type=\"number\"></b-form-input>\r\n        </b-input-group>\r\n        <b-input-group class=\"col-6 col-sm-3 mb-2\" prepend=\"缓冲期\" append=\"时\">\r\n          <b-form-input @change=\"bufferChanged($event)\" \r\n            :value=\"bufferPeriod\" type=\"number\"></b-form-input>\r\n        </b-input-group>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"mt-2 col-12 col-sm-6\">\r\n          <product-qrcode :qrcode=\"alipay\" category=\"alipay\" \r\n            @update=\"updateQrcode($event)\" @delete=\"deleteQrcode($event)\" />\r\n        </div>\r\n        <div class=\"mt-2 col-12 col-sm-6\">\r\n          <product-qrcode :qrcode=\"wechatpay\" category=\"wechatpay\" \r\n            @update=\"updateQrcode($event)\" @delete=\"deleteQrcode($event)\" />\r\n        </div>\r\n      </div>\r\n    </b-form-group>\r\n  </b-card>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport ProductQrcode from '@/components/admin/ProductQrcode'\r\nimport {getProduct, updateProduct, updateProductQrcode, deleteProductQrcode} from '@/apis/admin'\r\n\r\nexport default {\r\n  name: 'productDetail',\r\n  components: {\r\n    ProductQrcode\r\n  },\r\n  data() {\r\n    return {\r\n      product: {\r\n        'flow': 10,\r\n        'price': 4,\r\n        'duration': 30,\r\n        'bufferPeriod': 20,\r\n      },\r\n      alipay: {\r\n        pid: -1,\r\n        category: 'alipay',\r\n        desc: '',\r\n        qrcode: 'R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=='\r\n      },\r\n      wechatpay: {\r\n        pid: -1,\r\n        category: 'wechatpay',\r\n        desc: '',\r\n        qrcode: 'R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=='\r\n      },\r\n      pVariant: 'secondary',\r\n      durationUnit: \"月\"\r\n    }\r\n  },\r\n  computed: {\r\n    bufferPeriod() {\r\n      return this.product.bufferPeriod / 3600;\r\n    },\r\n    duration() {\r\n      return this.product.duration / 3600 / 24;;\r\n    },\r\n    flow() {\r\n      return this.product.flow / 1024;\r\n    }\r\n  },\r\n  methods: {\r\n    updateQrcode(qrcode) {\r\n      let param = {\r\n        ...qrcode,\r\n        productId: this.product.id,\r\n      }\r\n      updateProductQrcode(param).then( resp => {\r\n        // console.log(resp)\r\n        if(resp.status === 'success'){\r\n          location.reload();\r\n        } else {\r\n          alert('Something Wrong')\r\n        }\r\n      });\r\n    },\r\n    deleteQrcode(qrcode) {\r\n      let param = {\r\n        id: qrcode.id\r\n      }\r\n      deleteProductQrcode(param).then( resp => {\r\n        // console.log(resp)\r\n        if(resp.status === 'success'){\r\n          location.reload();\r\n        } else {\r\n          alert('Something Wrong')\r\n        }\r\n      });\r\n    },\r\n    flowChanged(value) {\r\n      this.pVariant = 'primary';\r\n      this.product.flow = value * 1024;\r\n    },\r\n    bufferChanged(value) {\r\n      this.pVariant = 'primary';\r\n      this.product.bufferPeriod = value * 3600;\r\n    },\r\n    durationChanged(value) {\r\n      this.pVariant = 'primary';\r\n      this.product.duration = value * 3600;\r\n    },\r\n    productChange() {\r\n      updateProduct({\r\n        ...this.product,\r\n      }).then( resp => {\r\n        this.pVariant = 'secondary'\r\n      })\r\n    }\r\n  },\r\n  created() {\r\n    getProduct({id: this.$route.params.id}).then(resp => {\r\n      if( resp.status === 'success') {\r\n        this.product = resp.product;\r\n        for(let qrcode of resp.qrcodes) {\r\n          if( qrcode ) {\r\n            if( qrcode.category === 'alipay') {\r\n              this.alipay = qrcode;\r\n            } else if ( qrcode.category === 'wechatpay') {\r\n              this.wechatpay = qrcode;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProductDetail.vue?vue&type=template&id=95ee4f9c&\"\nimport script from \"./ProductDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./ProductDetail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"ProductDetail.vue\"\nexport default component.exports","import {fetchPost} from './apibase.js'\r\n\r\nexport const getAllProducts = function(params) {\r\n    return fetchPost('/api/admin/product/getAll', params);\r\n}\r\n\r\nexport const getProduct = function(params) {\r\n    return fetchPost('/api/admin/product/get', params);\r\n}\r\n\r\nexport const updateProduct = function(params) {\r\n    return fetchPost('/api/admin/product/update', params);\r\n}\r\n\r\n\r\nexport const updateProductQrcode = function(params) {\r\n    return fetchPost('/api/admin/productQrcode/update', params);\r\n}\r\n\r\nexport const deleteProductQrcode = function(params) {\r\n    return fetchPost('/api/admin/productQrcode/delete', params);\r\n}\r\n\r\nexport const getAllUser = function(params) {\r\n    return fetchPost('/api/admin/user/getAll', params);\r\n}\r\n\r\nexport const getUserDetail = function(params) {\r\n    return fetchPost('/api/admin/user/getDetail', params);\r\n}\r\n\r\nexport const getAllAccount = function(params) {\r\n    return fetchPost('/api/admin/account/get', params);\r\n}\r\n\r\nexport const getAccountDetail = function(params) {\r\n    return fetchPost('/api/admin/account/getDetail', params)\r\n}\r\n\r\nexport const getOrderHistory = function(params) {\r\n    return fetchPost('/api/admin/orderHistory/get', params)\r\n}\r\n\r\nexport const getAllSettings = function(params) {\r\n    return fetchPost('/api/admin/setting/getAll', params)\r\n}\r\n\r\nexport const getAllEmails = function(params) {\r\n    return fetchPost('/api/admin/email/getAll', params);\r\n}\r\n\r\nexport const getEmailHistory = function(params) {\r\n    return fetchPost('/api/admin/email/getPage', params);\r\n}\r\n\r\n\r\nexport const getDayFlowUsage = function(params) {\r\n    return fetchPost('/api/admin/flowUsage/getInDay', params)\r\n}\r\n\r\nexport const getMonFlowUsage = function(params) {\r\n    return fetchPost('/api/admin/flowUsage/getInMon', params)\r\n}\r\n\r\n// ==================\r\n\r\nexport const randomAccountPassword = function(params) {\r\n    return fetchPost('/api/admin/account/randomPassword', params)\r\n}\r\n\r\nexport const updateAccountPassword = function(params) {\r\n    return fetchPost('/api/admin/account/updatePassword', params)\r\n}\r\n\r\nexport const updateAccountFlow = function(params) {\r\n    return fetchPost('/api/admin/account/updateTotalFlow', params)\r\n}\r\n\r\nexport const updateAccountExpiration = function(params) {\r\n    return fetchPost('/api/admin/account/updateExpiration', params)\r\n}\r\n\r\nexport const updateUserBasicInfo = function(params) {\r\n    return fetchPost('/api/admin/user/updateInfo', params);\r\n}\r\n\r\nexport const createAnnouncement = function(params) {\r\n    return fetchPost('/api/admin/announcement/create', params);\r\n}\r\n\r\nexport const getAnnouncements = function(params) {\r\n    return fetchPost('/api/admin/announcement/getAll', params);\r\n}\r\n\r\nexport const delAnnouncement = function(params) {\r\n    return fetchPost('/api/admin/announcement/delete', params);\r\n}"],"sourceRoot":""}