(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-430d0db0"],{"07e4":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-row",{staticClass:"my-2"},[n("div",{staticClass:"col-10 col-sm-5 row"},[n("label",{staticClass:"col-8 text-lg"},[t._v("流量单位:")]),n("b-select",{staticClass:"col-4",attrs:{value:t.flowUnit,options:t.unitOptions},on:{change:function(e){t.changeUnit(e)}}})],1),n("div",{staticClass:"col-12 col-sm-5 offset-sm-2"},[n("b-button",{staticClass:"mx-3",on:{click:function(e){t.$emit("selectDate",t.date.subtract(1,"day"))}}},[t._v("前一天")]),n("a-date-picker",{attrs:{allowClear:!1},on:{change:t.onDateChange},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)]),n("ve-histogram",{attrs:{data:t.chartData,settings:t.chartSettings,extend:t.extend}})],1)},r=[],o=(n("ac4d"),n("8a81"),n("ac6a"),1024),i=1048576,s=1073741824,c={name:"accountDetail",data:function(){return this.chartSettings={metrics:["flow"],dimension:["hour"]},this.extend={series:{label:{show:!0,position:"top",formatter:this.formatFlow}}},{chartData:{columns:["hour","flow"],rows:[]},flowUnit:1,flowUnitText:"B",unitOptions:[{value:i,text:"MB"},{value:s,text:"GB"},{value:o,text:"KB"},{value:1,text:"B"}],date:null}},computed:{dateString:function(){return null===this.date?"":this.date.format("YYYY-MM-DD")}},methods:{setRecords:function(t){var e,n=!0,a=!1,r=void 0;try{for(var c,l=this.chartData.rows[Symbol.iterator]();!(n=(c=l.next()).done);n=!0){var u=c.value;u.flow=0}}catch(b){a=!0,r=b}finally{try{n||null==l.return||l.return()}finally{if(a)throw r}}var f=0,d=!0,p=!1,h=void 0;try{for(var v,m=t[Symbol.iterator]();!(d=(v=m.next()).done);d=!0){var w=v.value;e=this.chartData.rows[w.hour],e.flow+=w.flow,e.flow>f&&(f=e.flow)}}catch(b){p=!0,h=b}finally{try{d||null==m.return||m.return()}finally{if(p)throw h}}this.flowUnit=1,f>s?this.changeUnit(s):f>i?this.changeUnit(i):f>o?this.changeUnit(o):this.changeUnit(1)},onDateChange:function(t){this.$emit("selectDate",t)},setDate:function(t){this.date=this.$moment(t)},changeUnit:function(t){var e,n=this.flowUnit/t;this.flowUnit=t;var a=!0,r=!1,o=void 0;try{for(var i,s=this.unitOptions[Symbol.iterator]();!(a=(i=s.next()).done);a=!0){var c=i.value;if(c.value==this.flowUnit){this.flowUnitText=c.text.substring(0,1);break}}}catch(u){r=!0,o=u}finally{try{a||null==s.return||s.return()}finally{if(r)throw o}}for(var l=0;l<24;l++)e=this.chartData.rows[l],e.flow=e.flow*n},formatFlow:function(t){return t.value.toFixed(2)+this.flowUnitText}},created:function(){for(var t=0;t<24;t++)this.chartData.rows.push({hour:t,flow:0})}},l=c,u=n("2877"),f=Object(u["a"])(l,a,r,!1,null,null,null);f.options.__file="DayFlowUsage.vue";e["a"]=f.exports},1141:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-card",{attrs:{title:t.title,"border-variant":t.variant}},[n("div",{domProps:{innerHTML:t._s(t.content)}})])],1)},r=[],o={name:"userAnnouncementArea",props:{title:String,content:String,variant:{type:String,default:"success"}}},i=o,s=n("2877"),c=Object(s["a"])(i,a,r,!1,null,null,null);c.options.__file="Announcement.vue";e["a"]=c.exports},1602:function(t,e,n){"use strict";n.d(e,"h",function(){return r}),n.d(e,"j",function(){return o}),n.d(e,"i",function(){return i}),n.d(e,"d",function(){return s}),n.d(e,"a",function(){return c}),n.d(e,"g",function(){return l}),n.d(e,"e",function(){return u}),n.d(e,"c",function(){return f}),n.d(e,"b",function(){return d}),n.d(e,"f",function(){return p});var a=n("4182"),r=function(t){return Object(a["a"])("/api/user/accountDetail",t)},o=function(t){return Object(a["a"])("/api/user/updatePassword",t)},i=function(t){return Object(a["a"])("/api/user/account/updatePassword",t)},s=function(t){return Object(a["a"])("/api/user/product/getAll",t)},c=function(t){return Object(a["a"])("/api/user/product/canPlace",t)},l=function(t){return Object(a["a"])("/api/user/product/getDetail",t)},u=function(t){return Object(a["a"])("/api/user/flowUsage/getInDay",t)},f=function(t){return Object(a["a"])("/api/user/announcement/getAll",t)},d=function(t){return Object(a["a"])("/api/user/product/confirm",t)},p=function(t){return Object(a["a"])("/api/user/orderHistory/get",t)}},"446e":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"form-group"},[n("span",{staticClass:"mr-3"},[n("i",{class:t.inputProp.icon})]),n("label",{staticClass:"form-label"},[t._v(t._s(t.inputProp.title))]),n("input",{staticClass:"form-control",attrs:{type:t.inputType,placeholder:t.inputProp.placeholder,readonly:t.readonly},domProps:{value:t.value},on:{input:function(e){t.$emit("valueChanged",e.target.value)}}})])},r=[],o={name:"textInput",props:{inputProp:{},value:"",inputType:{type:String,default:"text"},readonly:{type:Boolean,default:!1}},model:{prop:"value",event:"valueChanged"}},i=o,s=n("2877"),c=Object(s["a"])(i,a,r,!1,null,null,null);c.options.__file="TextInput.vue";e["a"]=c.exports},dab6:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-card",{staticClass:"my-2",attrs:{title:"公告"}},t._l(t.announcements,function(t){return n("announcement-area",{key:t.id,staticClass:"my-2 px-1 py-1",attrs:{title:t.title,content:t.content}})}),1),n("b-card",{staticClass:"px-1 py-1"},[n("b-button",{staticClass:"text-lg",attrs:{variant:"primary"},on:{click:function(e){t.$router.push({path:"/account"})}}},[t._v("账户详细信息")]),n("div",{staticClass:"row py-2"},[n("div",{staticClass:"col-12 col-sm-4 text-left text-md"},[n("text-input",{attrs:{"input-prop":{title:"Host",icon:"fas fa-network-wired"},readonly:!0},model:{value:t.ad.server,callback:function(e){t.$set(t.ad,"server",e)},expression:"ad.server"}})],1),n("div",{staticClass:"col-12 col-sm-4 text-left text-md"},[n("text-input",{attrs:{"input-prop":{title:"Port",icon:"fas fa-ethernet"},readonly:!0},model:{value:t.ad.port,callback:function(e){t.$set(t.ad,"port",e)},expression:"ad.port"}})],1),n("div",{staticClass:"col-12 col-sm-4 text-left text-md"},[n("text-input",{attrs:{"input-prop":{title:"Password",icon:"fas fa-key"},readonly:!0},model:{value:t.ad.password,callback:function(e){t.$set(t.ad,"password",e)},expression:"ad.password"}})],1)])],1),n("b-card",{staticClass:"mt-2",attrs:{title:"流量日统计"}},[n("day-flow-usage",{ref:"flowUsage",on:{selectDate:function(e){t.changeFlowDate(e)}}})],1)],1)},r=[],o=n("1602"),i=n("446e"),s=n("07e4"),c=n("1141"),l={name:"userIndex",components:{TextInput:i["a"],DayFlowUsage:s["a"],AnnouncementArea:c["a"]},data:function(){return{ad:{},announcements:[]}},methods:{changeFlowDate:function(t){var e=this,n=this.$route.params.id;Object(o["e"])({accountId:n,date:t.format("YYYY-MM-DD")}).then(function(t){e.$refs.flowUsage.setRecords(t.records),e.$refs.flowUsage.setDate(1e3*t.date)})}},created:function(){var t=this;Object(o["h"])().then(function(e){t.ad=e.account}),this.changeFlowDate(this.$moment()),Object(o["c"])().then(function(e){t.announcements=e.announcements})}},u=l,f=n("2877"),d=Object(f["a"])(u,a,r,!1,null,null,null);d.options.__file="Index.vue";e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-430d0db0.444a7100.js.map