{"version":3,"sources":["webpack:///./src/apis/user.js","webpack:///./src/views/user/Account.vue?d40f","webpack:///src/views/user/Account.vue","webpack:///./src/views/user/Account.vue?5f90","webpack:///./src/views/user/Account.vue"],"names":["__webpack_require__","d","__webpack_exports__","getUserAccount","updateUserPassword","updateAccountPassword","getAvailableProducts","canPlaceOrder","getProductDetail","getDayFlowUsage","getAnnouncements","confirmOrder","getOrderHistory","_apibase_js__WEBPACK_IMPORTED_MODULE_0__","params","fetchPost","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","input-prop","title","icon","readonly","model","value","ad","callback","$$v","$set","expression","on","valueChanged","$event","isPasswordChanged","type","disabled","click","updatePassword","_v","_s","totalFlow","toFixed","max","show-value","precision","$convertFlow","usedFlow","variant","show","ssAddress","size","level","$formatTime","expire","status","createTime","updateTime","_e","ok-only","modifyPasswordModal","staticRenderFns","GB","Accountvue_type_script_lang_js_","name","components","TextInput","QrcodeVue","qrcode_vue_esm","data","methods","pw","_this","Object","user","password","then","resp","computed","created","_this2","account","btoa","user_Accountvue_type_script_lang_js_","component","componentNormalizer","options","__file"],"mappings":"gHAAAA,EAAAC,EAAAC,EAAA,sBAAAC,IAAAH,EAAAC,EAAAC,EAAA,sBAAAE,IAAAJ,EAAAC,EAAAC,EAAA,sBAAAG,IAAAL,EAAAC,EAAAC,EAAA,sBAAAI,IAAAN,EAAAC,EAAAC,EAAA,sBAAAK,IAAAP,EAAAC,EAAAC,EAAA,sBAAAM,IAAAR,EAAAC,EAAAC,EAAA,sBAAAO,IAAAT,EAAAC,EAAAC,EAAA,sBAAAQ,IAAAV,EAAAC,EAAAC,EAAA,sBAAAS,IAAAX,EAAAC,EAAAC,EAAA,sBAAAU,IAAA,IAAAC,EAAAb,EAAA,QAEaG,EAAiB,SAASW,GACnC,OAAOC,eAAU,0BAA2BD,IAGnCV,EAAqB,SAASU,GACvC,OAAOC,eAAU,2BAA4BD,IAGpCT,EAAwB,SAASS,GAC1C,OAAOC,eAAU,mCAAoCD,IAG5CR,EAAuB,SAASQ,GACzC,OAAOC,eAAU,2BAA4BD,IAGpCP,EAAgB,SAASO,GAClC,OAAOC,eAAU,6BAA8BD,IAGtCN,EAAmB,SAASM,GACrC,OAAOC,eAAU,8BAA+BD,IAGvCL,EAAkB,SAASK,GACpC,OAAOC,eAAU,+BAAgCD,IAOxCJ,EAAmB,SAASI,GACrC,OAAOC,eAAU,gCAAiCD,IAIzCH,EAAe,SAASG,GACjC,OAAOC,eAAU,4BAA6BD,IAGrCF,EAAkB,SAASE,GACpC,OAAOC,eAAU,6BAA8BD,8CC5CnD,IAAAE,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,UAAAA,EAAA,OAAwCE,YAAA,OAAkB,CAAAF,EAAA,OAAYE,YAAA,mBAA8B,CAAAF,EAAA,OAAYE,YAAA,0BAAqC,CAAAF,EAAA,OAAYE,YAAA,qCAAgD,CAAAF,EAAA,cAAmBG,MAAA,CAAOC,aAAA,CAAcC,MAAA,OAAAC,KAAA,wBAAgDC,UAAA,GAAiBC,MAAA,CAAQC,MAAAb,EAAAc,GAAA,OAAAC,SAAA,SAAAC,GAA+ChB,EAAAiB,KAAAjB,EAAAc,GAAA,SAAAE,IAAgCE,WAAA,gBAAyB,GAAAd,EAAA,OAAgBE,YAAA,qCAAgD,CAAAF,EAAA,cAAmBG,MAAA,CAAOC,aAAA,CAAcC,MAAA,OAAAC,KAAA,mBAA2CC,UAAA,GAAiBC,MAAA,CAAQC,MAAAb,EAAAc,GAAA,KAAAC,SAAA,SAAAC,GAA6ChB,EAAAiB,KAAAjB,EAAAc,GAAA,OAAAE,IAA8BE,WAAA,cAAuB,KAAAd,EAAA,OAAkBE,YAAA,YAAuB,CAAAF,EAAA,OAAYE,YAAA,qCAAgD,CAAAF,EAAA,cAAmBG,MAAA,CAAOC,aAAA,CAAcC,MAAA,WAAAC,KAAA,eAA2CS,GAAA,CAAKC,aAAA,SAAAC,GAAgCrB,EAAAsB,mBAAA,IAA8BV,MAAA,CAAQC,MAAAb,EAAAc,GAAA,SAAAC,SAAA,SAAAC,GAAiDhB,EAAAiB,KAAAjB,EAAAc,GAAA,WAAAE,IAAkCE,WAAA,iBAA2Bd,EAAA,UAAeE,YAAA,uBAAAC,MAAA,CAA0CgB,KAAA,SAAAC,UAAAxB,EAAAsB,mBAAkDH,GAAA,CAAKM,MAAA,SAAAJ,GAAyBrB,EAAA0B,oBAAuB,CAAA1B,EAAA2B,GAAA3B,EAAA4B,GAAA,iBAAAxB,EAAA,OAA2CE,YAAA,qCAAgD,CAAAF,EAAA,cAAmBG,MAAA,CAAOC,aAAA,CAAcC,MAAA,YAAAC,KAAA,gBAA6CC,UAAA,EAAAE,MAAAb,EAAA6B,UAAAC,QAAA,YAA2D1B,EAAA,QAAAJ,EAAA2B,GAAA3B,EAAA4B,GAAA,iBAAAxB,EAAA,cAA6DE,YAAA,OAAAC,MAAA,CAA0BwB,IAAA/B,EAAA6B,UAAAG,aAAA,GAAAC,UAAA,IAAmD,CAAA7B,EAAA,kBAAuBG,MAAA,CAAOM,MAAAb,EAAAkC,aAAAlC,EAAAc,GAAAqB,SAAA,MAAAC,QAAA,aAAqEhC,EAAA,kBAAuBG,MAAA,CAAOM,MAAAb,EAAA6B,UAAA7B,EAAAkC,aAAAlC,EAAAc,GAAAqB,SAAA,MAAAC,QAAA,cAAqF,WAAAhC,EAAA,OAAwBE,YAAA,+BAA0C,CAAAF,EAAA,WAAgBG,MAAA,CAAO6B,QAAA,UAAAC,KAAA,KAA+B,CAAArC,EAAA2B,GAAA,8DAAAvB,EAAA,cAAwFE,YAAA,yBAAAC,MAAA,CAA4CM,MAAAb,EAAAsC,UAAAC,KAAA,IAAAC,MAAA,QAA8C,OAAApC,EAAA,UAAAA,EAAA,OAAiCE,YAAA,sBAAiC,CAAAF,EAAA,OAAYE,YAAA,YAAuB,CAAAF,EAAA,QAAaE,YAAA,2BAAsC,CAAAN,EAAA2B,GAAA3B,EAAA4B,GAAA,cAAAxB,EAAA,QAAyCE,YAAA,2BAAsC,CAAAN,EAAA2B,GAAA3B,EAAA4B,GAAA5B,EAAAyC,YAAAzC,EAAAc,GAAA4B,gBAAAtC,EAAA,OAAiEE,YAAA,0BAAqC,CAAAF,EAAA,QAAaE,YAAA,2BAAsC,CAAAN,EAAA2B,GAAA3B,EAAA4B,GAAA,kBAAAxB,EAAA,QAA6CE,YAAA,2BAAsC,CAAAN,EAAA2B,GAAA3B,EAAA4B,GAAA5B,EAAAc,GAAA6B,aAAAvC,EAAA,OAA8CE,YAAA,0BAAqC,CAAAF,EAAA,QAAaE,YAAA,2BAAsC,CAAAN,EAAA2B,GAAA3B,EAAA4B,GAAA,uBAAAxB,EAAA,QAAkDE,YAAA,2BAAsC,CAAAN,EAAA2B,GAAA3B,EAAA4B,GAAA5B,EAAAyC,YAAAzC,EAAAc,GAAA8B,kBAAA5C,EAAAc,GAAA,OAAAV,EAAA,OAAmFE,YAAA,YAAuB,CAAAF,EAAA,QAAaE,YAAA,2BAAsC,CAAAN,EAAA2B,GAAA3B,EAAA4B,GAAA,0BAAAxB,EAAA,QAAqDE,YAAA,2BAAsC,CAAAN,EAAA2B,GAAA3B,EAAA4B,GAAA5B,EAAAyC,YAAAzC,EAAAc,GAAA+B,kBAAA7C,EAAA8C,OAAA1C,EAAA,WAAkFG,MAAA,CAAOwC,WAAA,EAAAtC,MAAA,UAAgCG,MAAA,CAAQC,MAAAb,EAAA,oBAAAe,SAAA,SAAAC,GAAyDhB,EAAAgD,oBAAAhC,GAA4BE,WAAA,wBAAmC,CAAAlB,EAAA2B,GAAA,6BACzzGsB,EAAA,uECgFAC,EAAA,WAEAC,EAAA,CACAC,KAAA,YACAC,WAAA,CACAC,YAAA,KACAC,UAAAC,EAAA,MAEAC,KANA,WAOA,OACA3C,GAAA,GACAwB,UAAA,GACAhB,mBAAA,EACA0B,qBAAA,IAGAU,QAAA,CACAhC,eADA,SACAiC,GAAA,IAAAC,EAAA3D,KAEA4D,OAAAC,EAAA,KAAAD,CAAA,CACAE,SAAA9D,KAAAa,GAAAiD,WACAC,KAAA,SAAAC,GACAL,EAAAZ,qBAAA,EAEAY,EAAAtC,mBAAA,MAIA4C,SAAA,CACArC,UADA,WAEA,OAAA5B,KAAAa,GAAAe,UAAAqB,IAGAiB,QA/BA,WA+BA,IAAAC,EAAAnE,KACA4D,OAAAC,EAAA,KAAAD,GAAAG,KAAA,SAAAC,GAEAG,EAAAtD,GAAAmD,EAAAI,QACAD,EAAA9B,UAAA,QAAAgC,KAAAL,EAAA3B,eCtHgWiC,EAAA,cCOhWC,EAAgBX,OAAAY,EAAA,KAAAZ,CACdU,EACAxE,EACAkD,GACF,EACA,KACA,KACA,MAIAuB,EAAAE,QAAAC,OAAA,cACe1F,EAAA,WAAAuF","file":"vstatic/js/chunk-27d07130.c917c23d.js","sourcesContent":["import {fetchPost} from './apibase.js'\r\n\r\nexport const getUserAccount = function(params) {\r\n    return fetchPost('/api/user/accountDetail', params);\r\n}\r\n\r\nexport const updateUserPassword = function(params) {\r\n    return fetchPost('/api/user/updatePassword', params);\r\n}\r\n\r\nexport const updateAccountPassword = function(params) {\r\n    return fetchPost('/api/user/account/updatePassword', params);\r\n}\r\n\r\nexport const getAvailableProducts = function(params) {\r\n    return fetchPost('/api/user/product/getAll', params);\r\n}\r\n\r\nexport const canPlaceOrder = function(params) {\r\n    return fetchPost('/api/user/product/canPlace', params);\r\n}\r\n\r\nexport const getProductDetail = function(params) {\r\n    return fetchPost('/api/user/product/getDetail', params);\r\n}\r\n\r\nexport const getDayFlowUsage = function(params) {\r\n    return fetchPost('/api/user/flowUsage/getInDay', params)\r\n}\r\n\r\nexport const getMonFlowUsage = function(params) {\r\n    return fetchPost('/api/user/flowUsage/getInMon', params)\r\n}\r\n\r\nexport const getAnnouncements = function(params) {\r\n    return fetchPost('/api/user/announcement/getAll', params)\r\n}\r\n// ====================\r\n\r\nexport const confirmOrder = function(params) {\r\n    return fetchPost('/api/user/product/confirm', params);\r\n}\r\n\r\nexport const getOrderHistory = function(params) {\r\n    return fetchPost('/api/user/orderHistory/get', params);\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-card',[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12 col-sm-8\"},[_c('div',{staticClass:\"row border-bottom py-2\"},[_c('div',{staticClass:\"col-12 col-sm-6 text-left text-md\"},[_c('text-input',{attrs:{\"input-prop\":{'title': 'Host', 'icon': 'fas fa-network-wired'},\"readonly\":true},model:{value:(_vm.ad.server),callback:function ($$v) {_vm.$set(_vm.ad, \"server\", $$v)},expression:\"ad.server\"}})],1),_c('div',{staticClass:\"col-12 col-sm-6 text-left text-md\"},[_c('text-input',{attrs:{\"input-prop\":{'title': 'Port', 'icon': 'fas fa-ethernet'},\"readonly\":true},model:{value:(_vm.ad.port),callback:function ($$v) {_vm.$set(_vm.ad, \"port\", $$v)},expression:\"ad.port\"}})],1)]),_c('div',{staticClass:\"row py-2\"},[_c('div',{staticClass:\"col-12 col-sm-6 text-left text-md\"},[_c('text-input',{attrs:{\"input-prop\":{'title': 'Password', 'icon': 'fas fa-key'}},on:{\"valueChanged\":function($event){_vm.isPasswordChanged = true}},model:{value:(_vm.ad.password),callback:function ($$v) {_vm.$set(_vm.ad, \"password\", $$v)},expression:\"ad.password\"}}),_c('button',{staticClass:\"btn btn-primary mx-3\",attrs:{\"type\":\"button\",\"disabled\":!_vm.isPasswordChanged},on:{\"click\":function($event){_vm.updatePassword()}}},[_vm._v(_vm._s('Update'))])],1),_c('div',{staticClass:\"col-12 col-sm-6 text-left text-md\"},[_c('text-input',{attrs:{\"input-prop\":{'title': 'TotalFlow', 'icon': 'fas fa-globe'},\"readonly\":true,\"value\":_vm.totalFlow.toFixed(0) + ' GB'}}),_c('span',[_vm._v(_vm._s('FlowUsage:'))]),_c('b-progress',{staticClass:\"mb-3\",attrs:{\"max\":_vm.totalFlow,\"show-value\":\"\",\"precision\":1}},[_c('b-progress-bar',{attrs:{\"value\":_vm.$convertFlow(_vm.ad.usedFlow, 'GB'),\"variant\":\"primary\"}}),_c('b-progress-bar',{attrs:{\"value\":_vm.totalFlow - _vm.$convertFlow(_vm.ad.usedFlow, 'GB'),\"variant\":\"success\"}})],1)],1)])]),_c('div',{staticClass:\"col-12 col-sm-4 text-center\"},[_c('b-alert',{attrs:{\"variant\":\"primary\",\"show\":\"\"}},[_vm._v(\"\\r\\n          使用 shadowsocks 手机客户端的“扫一扫”导入配置\\r\\n        \")]),_c('qrcode-vue',{staticClass:\"d-inline-block mx-auto\",attrs:{\"value\":_vm.ssAddress,\"size\":200,\"level\":\"H\"}})],1)])]),_c('b-card',[_c('div',{staticClass:\"border-bottom my-2\"},[_c('div',{staticClass:\"row pb-2\"},[_c('span',{staticClass:\"col-4 text-left text-lg\"},[_vm._v(_vm._s('Expire:'))]),_c('span',{staticClass:\"col-8 text-left text-md\"},[_vm._v(_vm._s(_vm.$formatTime(_vm.ad.expire)))])])]),_c('div',{staticClass:\"row border-bottom my-2\"},[_c('span',{staticClass:\"col-4 text-left text-lg\"},[_vm._v(_vm._s('Status:')+\" \")]),_c('span',{staticClass:\"col-4 text-left text-md\"},[_vm._v(_vm._s(_vm.ad.status))])]),_c('div',{staticClass:\"row border-bottom my-2\"},[_c('span',{staticClass:\"col-4 text-left text-lg\"},[_vm._v(_vm._s('Create Time:')+\" \")]),_c('span',{staticClass:\"col-8 text-left text-md\"},[_vm._v(_vm._s(_vm.$formatTime(_vm.ad.createTime)))])]),(_vm.ad.userId)?_c('div',{staticClass:\"row my-2\"},[_c('span',{staticClass:\"col-4 text-left text-lg\"},[_vm._v(_vm._s('Last Connected:')+\" \")]),_c('span',{staticClass:\"col-8 text-left text-md\"},[_vm._v(_vm._s(_vm.$formatTime(_vm.ad.updateTime)))])]):_vm._e()]),_c('b-modal',{attrs:{\"ok-only\":true,\"title\":\"修改密码状态\"},model:{value:(_vm.modifyPasswordModal),callback:function ($$v) {_vm.modifyPasswordModal=$$v},expression:\"modifyPasswordModal\"}},[_vm._v(\"\\r\\n    修改成功\\r\\n  \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<div>\r\n  <b-card>\r\n    <div class=\"row\">\r\n      <div class=\"col-12 col-sm-8\">\r\n        <div class=\"row border-bottom py-2\">\r\n          <div class=\"col-12 col-sm-6 text-left text-md\">\r\n            <text-input :input-prop=\"{'title': 'Host', 'icon': 'fas fa-network-wired'}\"\r\n              :readonly=\"true\"\r\n              v-model=\"ad.server\" />\r\n          </div>\r\n          <div class=\"col-12 col-sm-6 text-left text-md\">\r\n          <text-input :input-prop=\"{'title': 'Port', 'icon': 'fas fa-ethernet'}\"\r\n            :readonly=\"true\"\r\n            v-model=\"ad.port\" />\r\n          </div>\r\n        </div>\r\n        <div class=\"row py-2\">\r\n          <div class=\"col-12 col-sm-6 text-left text-md\">\r\n            <text-input :input-prop=\"{'title': 'Password', 'icon': 'fas fa-key'}\" \r\n              v-model=\"ad.password\" @valueChanged=\"isPasswordChanged = true\" />\r\n            <button type=\"button\" class=\"btn btn-primary mx-3\" \r\n              @click=\"updatePassword()\"\r\n              :disabled=\"!isPasswordChanged\">{{ 'Update' }}</button>\r\n          </div>\r\n          <div class=\"col-12 col-sm-6 text-left text-md\">\r\n            <text-input :input-prop=\"{'title': 'TotalFlow', 'icon': 'fas fa-globe'}\" \r\n              :readonly=\"true\"\r\n              :value=\"totalFlow.toFixed(0) + ' GB'\"/>\r\n            <span>{{ 'FlowUsage:' }}</span>\r\n            <b-progress :max=\"totalFlow\" class=\"mb-3\" show-value :precision=\"1\">\r\n              <b-progress-bar :value=\"$convertFlow(ad.usedFlow, 'GB')\" variant=\"primary\" >\r\n              </b-progress-bar>\r\n              <b-progress-bar :value=\"totalFlow - $convertFlow(ad.usedFlow, 'GB')\" variant=\"success\" >\r\n              </b-progress-bar>\r\n            </b-progress>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-12 col-sm-4 text-center\">\r\n        <b-alert variant=\"primary\" show>\r\n          使用 shadowsocks 手机客户端的“扫一扫”导入配置\r\n        </b-alert>\r\n        <qrcode-vue :value=\"ssAddress\" :size=\"200\"  class=\"d-inline-block mx-auto\"\r\n          level=\"H\"></qrcode-vue>\r\n        <!-- <img src=\"test\" width=\"100%\" height=\"100%\"/> -->\r\n      </div>\r\n    </div>\r\n  </b-card>\r\n  <b-card>\r\n    <div class=\"border-bottom my-2\">\r\n      <!-- {# Expire Time, followed by actions #} -->\r\n      <div class=\"row pb-2\">\r\n        <span class=\"col-4 text-left text-lg\">{{ 'Expire:' }}</span>\r\n        <span class=\"col-8 text-left text-md\">{{ $formatTime(ad.expire) }}</span>\r\n      </div>\r\n    </div>\r\n    <div class=\"row border-bottom my-2\">\r\n      <span class=\"col-4 text-left text-lg\">{{ 'Status:' }} </span>\r\n      <span class=\"col-4 text-left text-md\">{{ ad.status }}</span>\r\n    </div>\r\n    <div class=\"row border-bottom my-2\">\r\n      <span class=\"col-4 text-left text-lg\">{{ 'Create Time:' }} </span>\r\n      <span class=\"col-8 text-left text-md\">{{ $formatTime(ad.createTime) }}</span>\r\n    </div>\r\n    <div class=\"row my-2\" v-if=\"ad.userId\">\r\n      <span class=\"col-4 text-left text-lg\">{{ 'Last Connected:' }} </span>\r\n      <span class=\"col-8 text-left text-md\">{{ $formatTime(ad.updateTime) }}</span>\r\n    </div>\r\n  </b-card>\r\n  <b-modal v-model=\"modifyPasswordModal\" :ok-only=\"true\" title=\"修改密码状态\">\r\n    修改成功\r\n  </b-modal>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport TextInput from '@/components/TextInput.vue'\r\nimport {getUserAccount, updateAccountPassword} from '@/apis/user.js'\r\nimport QrcodeVue from 'qrcode.vue'\r\n\r\nconst GB = 1024 * 1024 * 1024;\r\n\r\nexport default {\r\n  name: 'userIndex',\r\n  components: {\r\n    TextInput,\r\n    QrcodeVue\r\n  },\r\n  data() {\r\n    return {\r\n      ad: {},\r\n      ssAddress: \"\",\r\n      isPasswordChanged: false,\r\n      modifyPasswordModal: false,\r\n    }\r\n  },\r\n  methods: {\r\n    updatePassword(pw) {\r\n      // console.log(this.ad.password)\r\n      updateAccountPassword({\r\n        password: this.ad.password, \r\n      }).then( resp => {\r\n        this.modifyPasswordModal = true;\r\n        // this.ad.password = pw;\r\n        this.isPasswordChanged = false;\r\n      })\r\n    },\r\n  },\r\n  computed: {\r\n    totalFlow() {\r\n      return (this.ad.totalFlow / GB);\r\n    }\r\n  },\r\n  created() {\r\n    getUserAccount().then( resp => {\r\n      console.log(resp)\r\n      this.ad = resp.account;\r\n      this.ssAddress = \"ss://\" +btoa(resp.ssAddress);\r\n    })\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Account.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Account.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Account.vue?vue&type=template&id=4ffea4e0&\"\nimport script from \"./Account.vue?vue&type=script&lang=js&\"\nexport * from \"./Account.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Account.vue\"\nexport default component.exports"],"sourceRoot":""}