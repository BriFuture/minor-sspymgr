{"version":3,"sources":["webpack:///./src/views/home/Signin.vue?3e02","webpack:///src/views/home/Signin.vue","webpack:///./src/views/home/Signin.vue?4ea9","webpack:///./src/views/home/Signin.vue","webpack:///./src/views/home/Signin.vue?9ce2"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","attrs","role","autocomplete","method","state","emailState","for","type","id","name","required","autofocus","model","value","callback","$$v","email","expression","errors","passwordState","password","remember","to","variant","on","click","$event","toSignIn","staticRenderFns","Signinvue_type_script_lang_js_","data","count","computed","indexOf","length","methods","_this","params","keep_signedin","Object","home","then","resp","status","level","window","location","home_Signinvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Signin_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Signin_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"vstatic/js/chunk-5f4c2391.9cca2c4f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-card',{staticClass:\"rounded-0 text-left form-signin\"},[_c('b-card-header',[_c('h3',{staticClass:\"mb-0\"},[_vm._v(_vm._s('Please Sign in'))])]),_c('div',{staticClass:\"card-body\"},[_c('form',{staticClass:\"form needs-validation\",attrs:{\"role\":\"form\",\"autocomplete\":\"off\",\"method\":\"post\"}},[_c('b-form-group',{attrs:{\"state\":_vm.emailState}},[_c('label',{staticClass:\"sr-only\",attrs:{\"for\":\"signinEmail\"}},[_vm._v(_vm._s('Email address'))]),_c('b-form-input',{staticClass:\"form-control\",attrs:{\"type\":\"email\",\"id\":\"signinEmail\",\"name\":\"email\",\"required\":\"\",\"autofocus\":\"\",\"state\":_vm.emailState},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}}),_c('b-form-invalid-feedback',[(_vm.errors.email)?_c('div',[_vm._v(_vm._s(_vm.errors.email))]):_c('div',[_vm._v(_vm._s('请填写正确的邮箱'))])])],1),_c('b-form-group',{attrs:{\"state\":_vm.passwordState}},[_c('label',{staticClass:\"sr-only\",attrs:{\"for\":\"signinPassword\"}},[_vm._v(_vm._s('Password'))]),_c('b-form-input',{staticClass:\"form-control\",attrs:{\"type\":\"password\",\"id\":\"signinPassword\",\"name\":\"password\",\"required\":\"\",\"state\":_vm.passwordState},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('b-form-invalid-feedback',[(_vm.errors.password)?_c('div',[_vm._v(_vm._s(_vm.errors.password))]):_c('div',[_vm._v(_vm._s('请输入密码(至少 6 个字符)!'))])])],1),_c('b-form-group',{staticClass:\"mb-1\"},[_c('label',[_c('b-form-checkbox',{attrs:{\"type\":\"checkbox\",\"value\":\"remember-me\",\"name\":\"keep_signedin\"},model:{value:(_vm.remember),callback:function ($$v) {_vm.remember=$$v},expression:\"remember\"}},[_vm._v(\"\\n            \"+_vm._s('Remember me')+\"\\n          \")])],1)]),_c('b-form-group',[_c('span',{},[_c('router-link',{attrs:{\"to\":\"/resetPassword\"}},[_vm._v(_vm._s('Forget Password?'))])],1),_c('span',{staticClass:\"float-right\"},[_c('router-link',{attrs:{\"to\":\"/signup\"}},[_vm._v(_vm._s('No Account?'))])],1)]),_c('b-button',{staticClass:\"btn-lg btn-block\",attrs:{\"variant\":\"primary\",\"type\":\"button\"},on:{\"click\":function($event){_vm.toSignIn()}}},[_vm._v(\"\\n        \"+_vm._s('Sign in')+\"\\n      \")]),_c('p',{staticClass:\"mt-5 mb-3 text-muted text-right\"},[_vm._v(\"© 2017-2018\")])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-card class=\"rounded-0 text-left form-signin\">\r\n    <b-card-header>\r\n      <h3 class=\"mb-0\">{{ 'Please Sign in' }}</h3>\r\n    </b-card-header>\r\n    <div class=\"card-body\">\r\n      <form class=\"form needs-validation\" role=\"form\" autocomplete=\"off\" method=\"post\">\r\n        <b-form-group :state=\"emailState\">\r\n          <label for=\"signinEmail\" class=\"sr-only\">{{ 'Email address' }}</label>\r\n          <b-form-input type=\"email\" id=\"signinEmail\" name=\"email\" \r\n            class=\"form-control\"  required autofocus=\"\" \r\n            v-model=\"email\" :state=\"emailState\"\r\n          />\r\n          <b-form-invalid-feedback>\r\n            <div v-if=\"errors.email\">{{ errors.email }}</div>\r\n            <div v-else>{{ '请填写正确的邮箱' }}</div>\r\n          </b-form-invalid-feedback>\r\n        </b-form-group>\r\n        <b-form-group :state=\"passwordState\">\r\n          <label for=\"signinPassword\" class=\"sr-only\">{{ 'Password' }}</label>\r\n          <b-form-input type=\"password\" id=\"signinPassword\" name=\"password\" \r\n            class=\"form-control\" required v-model=\"password\" :state=\"passwordState\" />\r\n          <b-form-invalid-feedback>\r\n            <div v-if=\"errors.password\">{{ errors.password }}</div>\r\n            <div v-else>{{ '请输入密码(至少 6 个字符)!' }}</div>\r\n          </b-form-invalid-feedback>\r\n        </b-form-group>\r\n        <b-form-group class=\"mb-1\">\r\n          <label>\r\n            <b-form-checkbox type=\"checkbox\" value=\"remember-me\" name=\"keep_signedin\" v-model=\"remember\">\r\n              {{ 'Remember me' }}\r\n            </b-form-checkbox>\r\n          </label>\r\n        </b-form-group>\r\n        <b-form-group>\r\n          <span class=\"\"><router-link to=\"/resetPassword\">{{ 'Forget Password?' }}</router-link></span>\r\n          <span class=\"float-right\"><router-link to=\"/signup\">{{ 'No Account?' }}</router-link></span>\r\n        </b-form-group>\r\n        <b-button variant=\"primary\" class=\"btn-lg btn-block\" type=\"button\" @click=\"toSignIn()\">\r\n          {{ 'Sign in' }}\r\n        </b-button>\r\n        <p class=\"mt-5 mb-3 text-muted text-right\">© 2017-2018</p>\r\n      </form>\r\n    </div>\r\n    <!--/card-block-->\r\n  </b-card>\r\n</template>\r\n\r\n<script>\r\nimport { userSignin } from '@/apis/home.js'\r\nexport default {\r\n  name: 'signin',\r\n  data: function() {\r\n    return {\r\n      email: null,\r\n      password: null,\r\n      remember: false,\r\n      errors: {\r\n        email: null,\r\n        password: null,\r\n        count: 0\r\n      },\r\n    }\r\n  },\r\n  computed: {\r\n    emailState() {\r\n      if( this.email === null)\r\n        return null\r\n      // return this.errors.email.length > 0 ? false : true\r\n      if( this.errors.email === null ) {\r\n        if(this.email.indexOf(\"@\") > 0 && this.email.indexOf(\".\") > 0) {\r\n          return true;\r\n        }\r\n        return false;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n    passwordState() {\r\n      if(this.password === null) \r\n        return null\r\n      if( this.errors.password !== null)\r\n        return false\r\n      return this.password.length > 5 ? true : false\r\n    }\r\n  },\r\n  methods: {\r\n    toSignIn: function() {\r\n      var params = {\r\n        email: this.email,\r\n        password: this.password,\r\n        keep_signedin: this.remember\r\n      }\r\n      this.errors.email = null\r\n      this.errors.password = null\r\n      userSignin( params ).then( resp => {\r\n        console.log(resp)\r\n        if( resp.status === 'fail' ) {\r\n          this.errors = resp;\r\n          this.errors.count = 1;\r\n        } else if( resp.status === 'success' ) {\r\n          if(resp.level === 'user')\r\n            window.location = '/user'\r\n          else if(resp.level === 'admin')\r\n            window.location = '/admin'\r\n\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style>\r\n\r\n.form-signin {\r\n  width: 400px;\r\n  max-width: 430px;\r\n  padding: 15px;\r\n  margin: 0 auto;\r\n}\r\n\r\n@media screen and (max-width: 486px) {\r\n  .form-signin {\r\n    width: 100%;\r\n    padding: 15px;\r\n    margin-top: 50px;\r\n  }\r\n}\r\n\r\n.form-signin .checkbox {\r\n  font-weight: 400;\r\n}\r\n.form-signin .form-control {\r\n  position: relative;\r\n  box-sizing: border-box;\r\n  height: auto;\r\n  padding: 10px;\r\n  font-size: 16px;\r\n}\r\n.form-signin .form-control:focus {\r\n  z-index: 2;\r\n}\r\n.form-signin input[type=\"email\"] {\r\n  margin-bottom: -1px;\r\n  border-bottom-right-radius: 0;\r\n  border-bottom-left-radius: 0;\r\n}\r\n.form-signin input[type=\"password\"] {\r\n  margin-bottom: 10px;\r\n  border-top-left-radius: 0;\r\n  border-top-right-radius: 0;\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Signin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Signin.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Signin.vue?vue&type=template&id=3dae2c84&\"\nimport script from \"./Signin.vue?vue&type=script&lang=js&\"\nexport * from \"./Signin.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Signin.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Signin.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Signin.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Signin.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}