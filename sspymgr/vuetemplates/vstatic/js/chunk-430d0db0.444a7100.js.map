{"version":3,"sources":["webpack:///./src/components/DayFlowUsage.vue?72e2","webpack:///src/components/DayFlowUsage.vue","webpack:///./src/components/DayFlowUsage.vue?7ae9","webpack:///./src/components/DayFlowUsage.vue","webpack:///./src/components/user/Announcement.vue?7536","webpack:///src/components/user/Announcement.vue","webpack:///./src/components/user/Announcement.vue?ea04","webpack:///./src/components/user/Announcement.vue","webpack:///./src/apis/user.js","webpack:///./src/components/TextInput.vue?23f2","webpack:///src/components/TextInput.vue","webpack:///./src/components/TextInput.vue?9ceb","webpack:///./src/components/TextInput.vue","webpack:///./src/views/user/Index.vue?8fb0","webpack:///src/views/user/Index.vue","webpack:///./src/views/user/Index.vue?096d","webpack:///./src/views/user/Index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","value","flowUnit","options","unitOptions","on","change","$event","changeUnit","click","$emit","date","subtract","allowClear","onDateChange","model","callback","$$v","expression","data","chartData","settings","chartSettings","extend","staticRenderFns","KB","MB","GB","DayFlowUsagevue_type_script_lang_js_","name","metrics","dimension","series","label","show","position","formatter","formatFlow","columns","rows","flowUnitText","text","computed","dateString","format","methods","setRecords","records","dr","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","_dr","flow","err","return","max","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","r","hour","setDate","timestamp","$moment","unit","rate","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","o","substring","i","params","toFixed","created","push","components_DayFlowUsagevue_type_script_lang_js_","component","Object","componentNormalizer","__file","__webpack_exports__","title","border-variant","variant","domProps","innerHTML","_s","content","Announcementvue_type_script_lang_js_","props","String","type","default","user_Announcementvue_type_script_lang_js_","__webpack_require__","d","getUserAccount","updateUserPassword","updateAccountPassword","getAvailableProducts","canPlaceOrder","getProductDetail","getDayFlowUsage","getAnnouncements","confirmOrder","getOrderHistory","_apibase_js__WEBPACK_IMPORTED_MODULE_0__","fetchPost","class","inputProp","icon","inputType","placeholder","readonly","input","target","TextInputvue_type_script_lang_js_","Boolean","prop","event","components_TextInputvue_type_script_lang_js_","_l","ann","key","id","$router","path","input-prop","ad","$set","ref","selectDate","changeFlowDate","Indexvue_type_script_lang_js_","components","TextInput","DayFlowUsage","AnnouncementArea","Announcement","announcements","day","_this","$route","user","accountId","then","resp","$refs","flowUsage","_this2","account","user_Indexvue_type_script_lang_js_"],"mappings":"kHAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,SAA6BE,YAAA,QAAmB,CAAAF,EAAA,OAAYE,YAAA,uBAAkC,CAAAF,EAAA,SAAcE,YAAA,iBAA4B,CAAAN,EAAAO,GAAA,WAAAH,EAAA,YAAmCE,YAAA,QAAAE,MAAA,CAA2BC,MAAAT,EAAAU,SAAAC,QAAAX,EAAAY,aAA+CC,GAAA,CAAKC,OAAA,SAAAC,GAA0Bf,EAAAgB,WAAAD,QAAyB,GAAAX,EAAA,OAAgBE,YAAA,+BAA0C,CAAAF,EAAA,YAAiBE,YAAA,OAAAO,GAAA,CAAuBI,MAAA,SAAAF,GAAyBf,EAAAkB,MAAA,aAAAlB,EAAAmB,KAAAC,SAAA,aAAuD,CAAApB,EAAAO,GAAA,SAAAH,EAAA,iBAAsCI,MAAA,CAAOa,YAAA,GAAmBR,GAAA,CAAKC,OAAAd,EAAAsB,cAA0BC,MAAA,CAAQd,MAAAT,EAAA,KAAAwB,SAAA,SAAAC,GAA0CzB,EAAAmB,KAAAM,GAAaC,WAAA,WAAoB,KAAAtB,EAAA,gBAA2BI,MAAA,CAAOmB,KAAA3B,EAAA4B,UAAAC,SAAA7B,EAAA8B,cAAAC,OAAA/B,EAAA+B,WAAuE,IACn1BC,EAAA,GCiBAC,iCAAA,MACAC,EAAA,QACAC,EAAA,WACAC,EAAA,CACAC,KAAA,gBACAV,KAFA,WAYA,OATA1B,KAAA6B,cAAA,CACAQ,QAAA,SACAC,UAAA,UAEAtC,KAAA8B,OAAA,CACAS,OAAA,CACAC,MAAA,CAAAC,MAAA,EAAAC,SAAA,MAAAC,UAAA3C,KAAA4C,cAGA,CACAjB,UAAA,CACAkB,QAAA,gBACAC,KAAA,IAEArC,SAAA,EACAsC,aAAA,IACApC,YAAA,CACA,CAAAH,MAAAyB,EAAAe,KAAA,MACA,CAAAxC,MAAA0B,EAAAc,KAAA,MACA,CAAAxC,MAAAwB,EAAAgB,KAAA,MACA,CAAAxC,MAAA,EAAAwC,KAAA,MAEA9B,KAAA,OAGA+B,SAAA,CACAC,WADA,WAEA,cAAAlD,KAAAkB,KACA,GACAlB,KAAAkB,KAAAiC,OAAA,gBAGAC,QAAA,CACAC,WADA,SACAC,GACA,IAAAC,EADAC,GAAA,EAAAC,GAAA,EAAAC,OAAAC,EAAA,IAEA,QAAAC,EAAAC,EAAA7D,KAAA2B,UAAAmB,KAAAgB,OAAAC,cAAAP,GAAAI,EAAAC,EAAAG,QAAAC,MAAAT,GAAA,OAAAU,EAAAN,EAAApD,MACA0D,EAAAC,KAAA,GAHA,MAAAC,GAAAX,GAAA,EAAAC,EAAAU,EAAA,YAAAZ,GAAA,MAAAK,EAAAQ,QAAAR,EAAAQ,SAAA,WAAAZ,EAAA,MAAAC,GAKA,IAAAY,EAAA,EALAC,GAAA,EAAAC,GAAA,EAAAC,OAAAd,EAAA,IAMA,QAAAe,EAAAC,EAAArB,EAAAQ,OAAAC,cAAAQ,GAAAG,EAAAC,EAAAX,QAAAC,MAAAM,GAAA,OAAAK,EAAAF,EAAAlE,MACA+C,EAAAvD,KAAA2B,UAAAmB,KAAA8B,EAAAC,MACAtB,EAAAY,MAAAS,EAAAT,KACAZ,EAAAY,KAAAG,IACAA,EAAAf,EAAAY,OAVA,MAAAC,GAAAI,GAAA,EAAAC,EAAAL,EAAA,YAAAG,GAAA,MAAAI,EAAAN,QAAAM,EAAAN,SAAA,WAAAG,EAAA,MAAAC,GAaAzE,KAAAS,SAAA,EACA6D,EAAApC,EAEAlC,KAAAe,WAAAmB,GACAoC,EAAArC,EACAjC,KAAAe,WAAAkB,GACAqC,EAAAtC,EACAhC,KAAAe,WAAAiB,GAEAhC,KAAAe,WAAA,IAGAM,aA1BA,SA0BAH,GACAlB,KAAAiB,MAAA,aAAAC,IAEA4D,QA7BA,SA6BAC,GACA/E,KAAAkB,KAAAlB,KAAAgF,QAAAD,IAEAhE,WAhCA,SAgCAkE,GACA,IAAAL,EACAM,EAAAlF,KAAAS,SAAAwE,EACAjF,KAAAS,SAAAwE,EAHA,IAAAE,GAAA,EAAAC,GAAA,EAAAC,OAAA1B,EAAA,IAIA,QAAA2B,EAAAC,EAAAvF,KAAAW,YAAAmD,OAAAC,cAAAoB,GAAAG,EAAAC,EAAAvB,QAAAC,MAAAkB,GAAA,OAAAK,EAAAF,EAAA9E,MACA,GAAAgF,EAAAhF,OAAAR,KAAAS,SAAA,CACAT,KAAA+C,aAAAyC,EAAAxC,KAAAyC,UAAA,KACA,QAPA,MAAArB,GAAAgB,GAAA,EAAAC,EAAAjB,EAAA,YAAAe,GAAA,MAAAI,EAAAlB,QAAAkB,EAAAlB,SAAA,WAAAe,EAAA,MAAAC,GAUA,QAAAK,EAAA,EAAAA,EAAA,GAAAA,IACAd,EAAA5E,KAAA2B,UAAAmB,KAAA4C,GACAd,EAAAT,KAAAS,EAAAT,KAAAe,GAGAtC,WA/CA,SA+CA+C,GACA,OAAAA,EAAAnF,MAAAoF,QAAA,GAAA5F,KAAA+C,eAGA8C,QAtFA,WAuFA,QAAAH,EAAA,EAAAA,EAAA,GAAAA,IACA1F,KAAA2B,UAAAmB,KAAAgD,KAAA,CAAAjB,KAAAa,EAAAvB,KAAA,MC7GsV4B,EAAA,cCOtVC,EAAgBC,OAAAC,EAAA,KAAAD,CACdF,EACAjG,EACAiC,GACF,EACA,KACA,KACA,MAIAiE,EAAAtF,QAAAyF,OAAA,mBACeC,EAAA,KAAAJ,6CCnBf,IAAAlG,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,UAA8BI,MAAA,CAAO8F,MAAAtG,EAAAsG,MAAAC,iBAAAvG,EAAAwG,UAAgD,CAAApG,EAAA,OAAYqG,SAAA,CAAUC,UAAA1G,EAAA2G,GAAA3G,EAAA4G,eAAiC,IACrO5E,EAAA,GCQA6E,EAAA,CACAxE,KAAA,uBACAyE,MAAA,CACAR,MAAAS,OACAH,QAAAG,OACAP,QAAA,CACAQ,KAAAD,OACAE,QAAA,aChBqWC,EAAA,cCOrWjB,EAAgBC,OAAAC,EAAA,KAAAD,CACdgB,EACAnH,EACAiC,GACF,EACA,KACA,KACA,MAIAiE,EAAAtF,QAAAyF,OAAA,mBACeC,EAAA,KAAAJ,6CCnBfkB,EAAAC,EAAAf,EAAA,sBAAAgB,IAAAF,EAAAC,EAAAf,EAAA,sBAAAiB,IAAAH,EAAAC,EAAAf,EAAA,sBAAAkB,IAAAJ,EAAAC,EAAAf,EAAA,sBAAAmB,IAAAL,EAAAC,EAAAf,EAAA,sBAAAoB,IAAAN,EAAAC,EAAAf,EAAA,sBAAAqB,IAAAP,EAAAC,EAAAf,EAAA,sBAAAsB,IAAAR,EAAAC,EAAAf,EAAA,sBAAAuB,IAAAT,EAAAC,EAAAf,EAAA,sBAAAwB,IAAAV,EAAAC,EAAAf,EAAA,sBAAAyB,IAAA,IAAAC,EAAAZ,EAAA,QAEaE,EAAiB,SAASzB,GACnC,OAAOoC,eAAU,0BAA2BpC,IAGnC0B,EAAqB,SAAS1B,GACvC,OAAOoC,eAAU,2BAA4BpC,IAGpC2B,EAAwB,SAAS3B,GAC1C,OAAOoC,eAAU,mCAAoCpC,IAG5C4B,EAAuB,SAAS5B,GACzC,OAAOoC,eAAU,2BAA4BpC,IAGpC6B,EAAgB,SAAS7B,GAClC,OAAOoC,eAAU,6BAA8BpC,IAGtC8B,EAAmB,SAAS9B,GACrC,OAAOoC,eAAU,8BAA+BpC,IAGvC+B,EAAkB,SAAS/B,GACpC,OAAOoC,eAAU,+BAAgCpC,IAOxCgC,EAAmB,SAAShC,GACrC,OAAOoC,eAAU,gCAAiCpC,IAIzCiC,EAAe,SAASjC,GACjC,OAAOoC,eAAU,4BAA6BpC,IAGrCkC,EAAkB,SAASlC,GACpC,OAAOoC,eAAU,6BAA8BpC,yCC5CnD,IAAA7F,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,cAAyB,CAAAF,EAAA,QAAaE,YAAA,QAAmB,CAAAF,EAAA,KAAU6H,MAAAjI,EAAAkI,UAAAC,SAAyB/H,EAAA,SAAgBE,YAAA,cAAyB,CAAAN,EAAAO,GAAAP,EAAA2G,GAAA3G,EAAAkI,UAAA5B,UAAAlG,EAAA,SAAoDE,YAAA,eAAAE,MAAA,CAAkCwG,KAAAhH,EAAAoI,UAAAC,YAAArI,EAAAkI,UAAAG,YAAAC,SAAAtI,EAAAsI,UAAqF7B,SAAA,CAAWhG,MAAAT,EAAAS,OAAkBI,GAAA,CAAK0H,MAAA,SAAAxH,GAAyBf,EAAAkB,MAAA,eAAAH,EAAAyH,OAAA/H,cACrduB,EAAA,GCeAyG,EAAA,CACApG,KAAA,YACAyE,MAAA,CACAoB,UAAA,GACAzH,MAAA,GACA2H,UAAA,CACApB,KAAAD,OACAE,QAAA,QAEAqB,SAAA,CACAtB,KAAA0B,QACAzB,SAAA,IAGA1F,MAAA,CACAoH,KAAA,QACAC,MAAA,iBChCmVC,EAAA,cCOnV5C,EAAgBC,OAAAC,EAAA,KAAAD,CACd2C,EACA9I,EACAiC,GACF,EACA,KACA,KACA,MAIAiE,EAAAtF,QAAAyF,OAAA,gBACeC,EAAA,KAAAJ,oDCnBf,IAAAlG,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,UAA8BE,YAAA,OAAAE,MAAA,CAA0B8F,MAAA,OAActG,EAAA8I,GAAA9I,EAAA,uBAAA+I,GAA0C,OAAA3I,EAAA,qBAA+B4I,IAAAD,EAAAE,GAAA3I,YAAA,iBAAAE,MAAA,CAA+C8F,MAAAyC,EAAAzC,MAAAM,QAAAmC,EAAAnC,aAA2C,GAAAxG,EAAA,UAAkBE,YAAA,aAAwB,CAAAF,EAAA,YAAiBE,YAAA,UAAAE,MAAA,CAA6BgG,QAAA,WAAoB3F,GAAA,CAAKI,MAAA,SAAAF,GAAyBf,EAAAkJ,QAAAnD,KAAA,CAAkBoD,KAAA,gBAAqB,CAAAnJ,EAAAO,GAAA,YAAAH,EAAA,OAA+BE,YAAA,YAAuB,CAAAF,EAAA,OAAYE,YAAA,qCAAgD,CAAAF,EAAA,cAAmBI,MAAA,CAAO4I,aAAA,CAAc9C,MAAA,OAAA6B,KAAA,wBAAgDG,UAAA,GAAiB/G,MAAA,CAAQd,MAAAT,EAAAqJ,GAAA,OAAA7H,SAAA,SAAAC,GAA+CzB,EAAAsJ,KAAAtJ,EAAAqJ,GAAA,SAAA5H,IAAgCC,WAAA,gBAAyB,GAAAtB,EAAA,OAAgBE,YAAA,qCAAgD,CAAAF,EAAA,cAAmBI,MAAA,CAAO4I,aAAA,CAAc9C,MAAA,OAAA6B,KAAA,mBAA2CG,UAAA,GAAiB/G,MAAA,CAAQd,MAAAT,EAAAqJ,GAAA,KAAA7H,SAAA,SAAAC,GAA6CzB,EAAAsJ,KAAAtJ,EAAAqJ,GAAA,OAAA5H,IAA8BC,WAAA,cAAuB,GAAAtB,EAAA,OAAgBE,YAAA,qCAAgD,CAAAF,EAAA,cAAmBI,MAAA,CAAO4I,aAAA,CAAc9C,MAAA,WAAA6B,KAAA,cAA0CG,UAAA,GAAiB/G,MAAA,CAAQd,MAAAT,EAAAqJ,GAAA,SAAA7H,SAAA,SAAAC,GAAiDzB,EAAAsJ,KAAAtJ,EAAAqJ,GAAA,WAAA5H,IAAkCC,WAAA,kBAA2B,SAAAtB,EAAA,UAAyBE,YAAA,OAAAE,MAAA,CAA0B8F,MAAA,UAAiB,CAAAlG,EAAA,kBAAuBmJ,IAAA,YAAA1I,GAAA,CAAoB2I,WAAA,SAAAzI,GAA8Bf,EAAAyJ,eAAA1I,QAA6B,QAC/gDiB,EAAA,mDC0CA0H,EAAA,CACArH,KAAA,YACAsH,WAAA,CACAC,YAAA,KACAC,eAAA,KACAC,iBAAAC,EAAA,MAEApI,KAPA,WAQA,OACA0H,GAAA,GACAW,cAAA,KAGA3G,QAAA,CACAoG,eADA,SACAQ,GAAA,IAAAC,EAAAjK,KACAgJ,EAAAhJ,KAAAkK,OAAAvE,OAAAqD,GACA/C,OAAAkE,EAAA,KAAAlE,CAAA,CACAmE,UAAApB,EACA9H,KAAA8I,EAAA7G,OAAA,gBACAkH,KAAA,SAAAC,GAEAL,EAAAM,MAAAC,UAAAnH,WAAAiH,EAAAhH,SACA2G,EAAAM,MAAAC,UAAA1F,QAAA,IAAAwF,EAAApJ,UAIA2E,QA1BA,WA0BA,IAAA4E,EAAAzK,KACAiG,OAAAkE,EAAA,KAAAlE,GAAAoE,KAAA,SAAAC,GACAG,EAAArB,GAAAkB,EAAAI,UAEA1K,KAAAwJ,eAAAxJ,KAAAgF,WACAiB,OAAAkE,EAAA,KAAAlE,GAAAoE,KAAA,SAAAC,GAEAG,EAAAV,cAAAO,EAAAP,kBC5E8VY,EAAA,cCO9V3E,EAAgBC,OAAAC,EAAA,KAAAD,CACd0E,EACA7K,EACAiC,GACF,EACA,KACA,KACA,MAIAiE,EAAAtF,QAAAyF,OAAA,YACeC,EAAA,WAAAJ","file":"vstatic/js/chunk-430d0db0.444a7100.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-row',{staticClass:\"my-2\"},[_c('div',{staticClass:\"col-10 col-sm-5 row\"},[_c('label',{staticClass:\"col-8 text-lg\"},[_vm._v(\"流量单位:\")]),_c('b-select',{staticClass:\"col-4\",attrs:{\"value\":_vm.flowUnit,\"options\":_vm.unitOptions},on:{\"change\":function($event){_vm.changeUnit($event)}}})],1),_c('div',{staticClass:\"col-12 col-sm-5 offset-sm-2\"},[_c('b-button',{staticClass:\"mx-3\",on:{\"click\":function($event){_vm.$emit('selectDate', _vm.date.subtract(1, 'day'))}}},[_vm._v(\"前一天\")]),_c('a-date-picker',{attrs:{\"allowClear\":false},on:{\"change\":_vm.onDateChange},model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}})],1)]),_c('ve-histogram',{attrs:{\"data\":_vm.chartData,\"settings\":_vm.chartSettings,\"extend\":_vm.extend}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<div>\r\n  <b-row class=\"my-2\">\r\n    <div class=\"col-10 col-sm-5 row\">\r\n      <label class=\"col-8 text-lg\">流量单位:</label>\r\n      <b-select class=\"col-4\" :value=\"flowUnit\" :options=\"unitOptions\" @change=\"changeUnit($event)\">\r\n      </b-select>\r\n    </div>\r\n    <div class=\"col-12 col-sm-5 offset-sm-2\">\r\n      <b-button class=\"mx-3\" @click=\"$emit('selectDate', date.subtract(1, 'day'))\">前一天</b-button>\r\n      <a-date-picker @change=\"onDateChange\" :allowClear=\"false\"  v-model=\"date\" />\r\n    </div>\r\n  </b-row>\r\n  <ve-histogram :data=\"chartData\" :settings=\"chartSettings\" :extend=\"extend\" />\r\n</div>\r\n</template>\r\n\r\n<script>\r\nconst KB = 1024;\r\nconst MB = 1024 * 1024;\r\nconst GB = 1024 * 1024 * 1024;\r\nexport default {\r\n  name: 'accountDetail',\r\n  data() {\r\n    this.chartSettings = {\r\n        metrics: ['flow'],\r\n        dimension: ['hour']\r\n    };\r\n    this.extend = {\r\n      series: {\r\n        label: { show: true, position: \"top\", formatter: this.formatFlow }\r\n      }\r\n    }\r\n    return {\r\n      chartData: {\r\n        columns: ['hour', 'flow'],\r\n        rows: []\r\n      },\r\n      flowUnit: 1,\r\n      flowUnitText: 'B',\r\n      unitOptions: [\r\n        {value: MB, text: \"MB\"},\r\n        {value: GB, text: \"GB\"},\r\n        {value: KB, text: \"KB\"},\r\n        {value: 1,  text: \"B\"},\r\n      ],\r\n      date: null\r\n    }\r\n  },\r\n  computed : {\r\n    dateString() {\r\n      if(this.date === null)\r\n        return ''\r\n      return this.date.format(\"YYYY-MM-DD\")\r\n    }\r\n  },\r\n  methods: {\r\n    setRecords(records) {\r\n      let dr;\r\n      for(let dr of this.chartData.rows) {\r\n        dr.flow = 0 ;\r\n      }\r\n      let max = 0;\r\n      for(let r of records) {\r\n        dr = this.chartData.rows[r.hour];\r\n        dr.flow += r.flow ;\r\n        if(dr.flow > max) {\r\n          max = dr.flow\r\n        }\r\n      }\r\n      this.flowUnit = 1;\r\n      if( max > GB ) {\r\n        // this.flowUnit = MB;\r\n        this.changeUnit(GB);\r\n      } else if( max > MB ) {\r\n        this.changeUnit(MB);\r\n      } else if( max > KB ) {\r\n        this.changeUnit(KB);\r\n      } else {\r\n        this.changeUnit(1);\r\n      }\r\n    },\r\n    onDateChange(date) {\r\n      this.$emit('selectDate', date)\r\n    },\r\n    setDate(timestamp) {\r\n      this.date = this.$moment(timestamp);\r\n    },\r\n    changeUnit(unit) {\r\n      let r;\r\n      let rate = this.flowUnit / unit;\r\n      this.flowUnit = unit;\r\n      for(let o of this.unitOptions) {\r\n        if(o.value == this.flowUnit) {\r\n          this.flowUnitText = o.text.substring(0, 1);\r\n          break;\r\n        }\r\n      }\r\n      for(let i = 0; i < 24; i++){\r\n        r = this.chartData.rows[i];\r\n        r.flow = r.flow * rate;\r\n      } \r\n    },\r\n    formatFlow(params) {\r\n      return (params.value.toFixed(2)) + this.flowUnitText;\r\n    }\r\n  },\r\n  created() {\r\n    for(let i = 0; i < 24; i++) {\r\n      this.chartData.rows.push({'hour': i, 'flow': 0})\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DayFlowUsage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DayFlowUsage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DayFlowUsage.vue?vue&type=template&id=38c8065e&\"\nimport script from \"./DayFlowUsage.vue?vue&type=script&lang=js&\"\nexport * from \"./DayFlowUsage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"DayFlowUsage.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-card',{attrs:{\"title\":_vm.title,\"border-variant\":_vm.variant}},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.content)}})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <b-card :title=\"title\" :border-variant=\"variant\" >\r\n      <div v-html=\"content\" ></div>\r\n    </b-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'userAnnouncementArea',\r\n  props: {\r\n    title: String,\r\n    content: String,\r\n    variant: {\r\n      type: String,\r\n      default: 'success'\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Announcement.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Announcement.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Announcement.vue?vue&type=template&id=0a4b8c70&\"\nimport script from \"./Announcement.vue?vue&type=script&lang=js&\"\nexport * from \"./Announcement.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Announcement.vue\"\nexport default component.exports","import {fetchPost} from './apibase.js'\r\n\r\nexport const getUserAccount = function(params) {\r\n    return fetchPost('/api/user/accountDetail', params);\r\n}\r\n\r\nexport const updateUserPassword = function(params) {\r\n    return fetchPost('/api/user/updatePassword', params);\r\n}\r\n\r\nexport const updateAccountPassword = function(params) {\r\n    return fetchPost('/api/user/account/updatePassword', params);\r\n}\r\n\r\nexport const getAvailableProducts = function(params) {\r\n    return fetchPost('/api/user/product/getAll', params);\r\n}\r\n\r\nexport const canPlaceOrder = function(params) {\r\n    return fetchPost('/api/user/product/canPlace', params);\r\n}\r\n\r\nexport const getProductDetail = function(params) {\r\n    return fetchPost('/api/user/product/getDetail', params);\r\n}\r\n\r\nexport const getDayFlowUsage = function(params) {\r\n    return fetchPost('/api/user/flowUsage/getInDay', params)\r\n}\r\n\r\nexport const getMonFlowUsage = function(params) {\r\n    return fetchPost('/api/user/flowUsage/getInMon', params)\r\n}\r\n\r\nexport const getAnnouncements = function(params) {\r\n    return fetchPost('/api/user/announcement/getAll', params)\r\n}\r\n// ====================\r\n\r\nexport const confirmOrder = function(params) {\r\n    return fetchPost('/api/user/product/confirm', params);\r\n}\r\n\r\nexport const getOrderHistory = function(params) {\r\n    return fetchPost('/api/user/orderHistory/get', params);\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('span',{staticClass:\"mr-3\"},[_c('i',{class:_vm.inputProp.icon})]),_c('label',{staticClass:\"form-label\"},[_vm._v(_vm._s(_vm.inputProp.title))]),_c('input',{staticClass:\"form-control\",attrs:{\"type\":_vm.inputType,\"placeholder\":_vm.inputProp.placeholder,\"readonly\":_vm.readonly},domProps:{\"value\":_vm.value},on:{\"input\":function($event){_vm.$emit('valueChanged', $event.target.value)}}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<div class=\"form-group\">\r\n  <span class=\"mr-3\">\r\n    <i :class=\"inputProp.icon\"></i>\r\n  </span>\r\n  <label class=\"form-label\">{{ inputProp.title }}</label>\r\n  <input class=\"form-control\" \r\n    :type=\"inputType\" \r\n    :placeholder=\"inputProp.placeholder\"\r\n    :value=\"value\"\r\n    :readonly=\"readonly\"\r\n    @input=\"$emit('valueChanged', $event.target.value)\" >\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'textInput',\r\n  props: {\r\n    inputProp: {},\r\n    value: '',\r\n    inputType: {\r\n      type: String,\r\n      default: 'text'\r\n    },\r\n    readonly: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  model: {\r\n    prop: 'value',\r\n    event: 'valueChanged'\r\n  }\r\n}\r\n</script>\r\n\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TextInput.vue?vue&type=template&id=1b894d7b&\"\nimport script from \"./TextInput.vue?vue&type=script&lang=js&\"\nexport * from \"./TextInput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"TextInput.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-card',{staticClass:\"my-2\",attrs:{\"title\":\"公告\"}},_vm._l((_vm.announcements),function(ann){return _c('announcement-area',{key:ann.id,staticClass:\"my-2 px-1 py-1\",attrs:{\"title\":ann.title,\"content\":ann.content}})}),1),_c('b-card',{staticClass:\"px-1 py-1\"},[_c('b-button',{staticClass:\"text-lg\",attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){_vm.$router.push({path: '/account'})}}},[_vm._v(\"账户详细信息\")]),_c('div',{staticClass:\"row py-2\"},[_c('div',{staticClass:\"col-12 col-sm-4 text-left text-md\"},[_c('text-input',{attrs:{\"input-prop\":{'title': 'Host', 'icon': 'fas fa-network-wired'},\"readonly\":true},model:{value:(_vm.ad.server),callback:function ($$v) {_vm.$set(_vm.ad, \"server\", $$v)},expression:\"ad.server\"}})],1),_c('div',{staticClass:\"col-12 col-sm-4 text-left text-md\"},[_c('text-input',{attrs:{\"input-prop\":{'title': 'Port', 'icon': 'fas fa-ethernet'},\"readonly\":true},model:{value:(_vm.ad.port),callback:function ($$v) {_vm.$set(_vm.ad, \"port\", $$v)},expression:\"ad.port\"}})],1),_c('div',{staticClass:\"col-12 col-sm-4 text-left text-md\"},[_c('text-input',{attrs:{\"input-prop\":{'title': 'Password', 'icon': 'fas fa-key'},\"readonly\":true},model:{value:(_vm.ad.password),callback:function ($$v) {_vm.$set(_vm.ad, \"password\", $$v)},expression:\"ad.password\"}})],1)])],1),_c('b-card',{staticClass:\"mt-2\",attrs:{\"title\":\"流量日统计\"}},[_c('day-flow-usage',{ref:\"flowUsage\",on:{\"selectDate\":function($event){_vm.changeFlowDate($event)}}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<div>\r\n  <b-card title=\"公告\" class=\"my-2\">\r\n    <announcement-area class=\"my-2 px-1 py-1\" v-for=\"ann in announcements\" :key=\"ann.id\" \r\n      :title=\"ann.title\" :content=\"ann.content\" />\r\n  </b-card>\r\n  \r\n  <b-card class=\"px-1 py-1\">\r\n    <b-button variant=\"primary\" class=\"text-lg\" \r\n      @click=\"$router.push({path: '/account'})\">账户详细信息</b-button>\r\n    <div class=\"row py-2\">\r\n      <div class=\"col-12 col-sm-4 text-left text-md\">\r\n        <text-input :input-prop=\"{'title': 'Host', 'icon': 'fas fa-network-wired'}\"\r\n          :readonly=\"true\"\r\n          v-model=\"ad.server\" />\r\n      </div>\r\n      <div class=\"col-12 col-sm-4 text-left text-md\">\r\n      <text-input :input-prop=\"{'title': 'Port', 'icon': 'fas fa-ethernet'}\"\r\n        :readonly=\"true\"\r\n        v-model=\"ad.port\" />\r\n      </div>\r\n      <div class=\"col-12 col-sm-4 text-left text-md\">\r\n        <text-input :input-prop=\"{'title': 'Password', 'icon': 'fas fa-key'}\" \r\n          v-model=\"ad.password\" \r\n          :readonly=\"true\" />\r\n      </div>\r\n    </div>\r\n  </b-card>\r\n\r\n  <b-card title=\"流量日统计\" class=\"mt-2\">\r\n    <day-flow-usage ref=\"flowUsage\" @selectDate=\"changeFlowDate($event)\" />\r\n  </b-card>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {getUserAccount, getDayFlowUsage, \r\n  getMonFlowUsage, getAnnouncements} from '@/apis/user.js'\r\n\r\nimport TextInput from '@/components/TextInput.vue'\r\nimport DayFlowUsage from '@/components/DayFlowUsage'\r\nimport AnnouncementArea from '@/components/user/Announcement.vue';\r\n\r\nexport default {\r\n  name: 'userIndex',\r\n  components: {\r\n    TextInput,\r\n    DayFlowUsage,\r\n    AnnouncementArea\r\n  },\r\n  data() {\r\n    return {\r\n      ad: {},\r\n      announcements: []\r\n    }\r\n  },\r\n  methods: {\r\n    changeFlowDate(day) {\r\n      let id = this.$route.params.id;\r\n      getDayFlowUsage({\r\n        accountId: id,\r\n        date: day.format(\"YYYY-MM-DD\")\r\n      }).then( resp => {\r\n        // this.chartData.rows = resp.records;\r\n        this.$refs.flowUsage.setRecords(resp.records)\r\n        this.$refs.flowUsage.setDate(resp.date*1000)\r\n      })\r\n    }\r\n  },\r\n  created() {\r\n    getUserAccount().then( resp => {\r\n      this.ad = resp.account;\r\n    });\r\n    this.changeFlowDate(this.$moment());\r\n    getAnnouncements().then( resp => {\r\n      console.log(resp)\r\n      this.announcements = resp.announcements;\r\n    })\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=5a51ec72&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Index.vue\"\nexport default component.exports"],"sourceRoot":""}