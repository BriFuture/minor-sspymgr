{"version":3,"sources":["webpack:///./src/views/admin/histories/Email.vue?9c2a","webpack:///src/views/admin/histories/Email.vue","webpack:///./src/views/admin/histories/Email.vue?8946","webpack:///./src/views/admin/histories/Email.vue","webpack:///./src/apis/admin.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","responsive","striped","hover","items","emails","fields","scopedSlots","_u","key","fn","data","_v","_s","$formatTime","value","align","size","limit","total-rows","totalItems","per-page","itemsPerPage","on","change","$event","refresh","model","callback","$$v","currentPage","expression","staticRenderFns","Emailvue_type_script_lang_js_","name","sortable","label","methods","page","_this","undefined","Object","admin","perPage","then","resp","total","created","histories_Emailvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","getAllProducts","params","fetchPost","getProduct","updateProduct","updateProductQrcode","deleteProductQrcode","getAllUser","getUserDetail","getAllAccount","getAccountDetail","getOrderHistory","getAllSettings","getEmailHistory","getDayFlowUsage","randomAccountPassword","updateAccountPassword","updateAccountFlow","updateAccountExpiration","updateUserBasicInfo","createAnnouncement","getAnnouncements","delAnnouncement"],"mappings":"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","file":"vstatic/js/chunk-4e3d1917.ce371e9b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-table',{attrs:{\"responsive\":\"\",\"striped\":\"\",\"hover\":\"\",\"items\":_vm.emails,\"fields\":_vm.fields},scopedSlots:_vm._u([{key:\"time\",fn:function(data){return [_vm._v(\"\\r\\n      \"+_vm._s(_vm.$formatTime(data.value))+\"\\r\\n    \")]}}])}),_c('b-pagination',{attrs:{\"align\":\"center\",\"size\":\"md\",\"limit\":10,\"total-rows\":_vm.totalItems,\"per-page\":_vm.itemsPerPage},on:{\"change\":function($event){_vm.refresh($event)}},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<div>\r\n  <b-table responsive striped hover :items=\"emails\" :fields=\"fields\">\r\n    <template slot=\"time\" slot-scope=\"data\" >\r\n      {{$formatTime(data.value)}}\r\n    </template>\r\n  </b-table>\r\n  <b-pagination align=\"center\" size=\"md\" :limit=\"10\" \r\n    :total-rows=\"totalItems\" v-model=\"currentPage\" \r\n    :per-page=\"itemsPerPage\" @change=\"refresh($event)\" >\r\n  </b-pagination>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {getAllEmails, getEmailHistory} from '@/apis/admin'\r\n\r\nexport default {\r\n  name: 'adminEmail',\r\n  data() {\r\n    return {\r\n      emails: [],\r\n      fields: [\r\n        {key: \"id\", sortable: true},\r\n        {key: \"to\", sortable: true},\r\n        {key: \"subject\"},\r\n        {key: \"remark\"},\r\n        {key: \"type\"},\r\n        {key: \"content\"},\r\n        {key: 'time'},\r\n        {key: \"action\", label: \"Action\"},\r\n      ],\r\n      currentPage: 1,\r\n      itemsPerPage: 20,\r\n      totalItems: 0\r\n    }\r\n  },\r\n  methods: {\r\n    refresh(page) {\r\n      if(page === undefined) {\r\n        page = this.currentPage;\r\n      }\r\n      getEmailHistory({\r\n        page: page,\r\n        perPage: this.itemsPerPage        \r\n      }).then( resp => {\r\n        console.log(resp)\r\n        this.totalItems = resp.emails.total;\r\n        this.emails = resp.emails.items;\r\n      });\r\n    }\r\n  },\r\n  created() {\r\n    this.refresh()\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Email.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Email.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Email.vue?vue&type=template&id=466dfcae&\"\nimport script from \"./Email.vue?vue&type=script&lang=js&\"\nexport * from \"./Email.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Email.vue\"\nexport default component.exports","import {fetchPost} from './apibase.js'\r\n\r\nexport const getAllProducts = function(params) {\r\n    return fetchPost('/api/admin/product/getAll', params);\r\n}\r\n\r\nexport const getProduct = function(params) {\r\n    return fetchPost('/api/admin/product/get', params);\r\n}\r\n\r\nexport const updateProduct = function(params) {\r\n    return fetchPost('/api/admin/product/update', params);\r\n}\r\n\r\n\r\nexport const updateProductQrcode = function(params) {\r\n    return fetchPost('/api/admin/productQrcode/update', params);\r\n}\r\n\r\nexport const deleteProductQrcode = function(params) {\r\n    return fetchPost('/api/admin/productQrcode/delete', params);\r\n}\r\n\r\nexport const getAllUser = function(params) {\r\n    return fetchPost('/api/admin/user/getAll', params);\r\n}\r\n\r\nexport const getUserDetail = function(params) {\r\n    return fetchPost('/api/admin/user/getDetail', params);\r\n}\r\n\r\nexport const getAllAccount = function(params) {\r\n    return fetchPost('/api/admin/account/get', params);\r\n}\r\n\r\nexport const getAccountDetail = function(params) {\r\n    return fetchPost('/api/admin/account/getDetail', params)\r\n}\r\n\r\nexport const getOrderHistory = function(params) {\r\n    return fetchPost('/api/admin/orderHistory/get', params)\r\n}\r\n\r\nexport const getAllSettings = function(params) {\r\n    return fetchPost('/api/admin/setting/getAll', params)\r\n}\r\n\r\nexport const getAllEmails = function(params) {\r\n    return fetchPost('/api/admin/email/getAll', params);\r\n}\r\n\r\nexport const getEmailHistory = function(params) {\r\n    return fetchPost('/api/admin/email/getPage', params);\r\n}\r\n\r\n\r\nexport const getDayFlowUsage = function(params) {\r\n    return fetchPost('/api/admin/flowUsage/getInDay', params)\r\n}\r\n\r\nexport const getMonFlowUsage = function(params) {\r\n    return fetchPost('/api/admin/flowUsage/getInMon', params)\r\n}\r\n\r\n// ==================\r\n\r\nexport const randomAccountPassword = function(params) {\r\n    return fetchPost('/api/admin/account/randomPassword', params)\r\n}\r\n\r\nexport const updateAccountPassword = function(params) {\r\n    return fetchPost('/api/admin/account/updatePassword', params)\r\n}\r\n\r\nexport const updateAccountFlow = function(params) {\r\n    return fetchPost('/api/admin/account/updateTotalFlow', params)\r\n}\r\n\r\nexport const updateAccountExpiration = function(params) {\r\n    return fetchPost('/api/admin/account/updateExpiration', params)\r\n}\r\n\r\nexport const updateUserBasicInfo = function(params) {\r\n    return fetchPost('/api/admin/user/updateInfo', params);\r\n}\r\n\r\nexport const createAnnouncement = function(params) {\r\n    return fetchPost('/api/admin/announcement/create', params);\r\n}\r\n\r\nexport const getAnnouncements = function(params) {\r\n    return fetchPost('/api/admin/announcement/getAll', params);\r\n}\r\n\r\nexport const delAnnouncement = function(params) {\r\n    return fetchPost('/api/admin/announcement/delete', params);\r\n}"],"sourceRoot":""}