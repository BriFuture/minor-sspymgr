{"version":3,"sources":["webpack:///./node_modules/node-libs-browser/node_modules/timers-browserify/main.js","webpack:///./src/apis/user.js","webpack:///./node_modules/node-libs-browser/mock/process.js","webpack:///./src/views/user/ProductDetail.vue?80a3","webpack:///./node_modules/setimmediate/setImmediate.js","webpack:///./src/views/user/ProductDetail.vue?5213","webpack:///src/views/user/ProductDetail.vue","webpack:///./src/views/user/ProductDetail.vue","webpack:///./node_modules/node-libs-browser/node_modules/path-browserify/index.js","webpack:///./src/components/LoadingModal.vue?173e","webpack:///src/components/LoadingModal.vue","webpack:///./src/components/LoadingModal.vue"],"names":["global","scope","self","window","apply","Function","prototype","Timeout","id","clearFn","this","_id","_clearFn","exports","setTimeout","call","arguments","clearTimeout","setInterval","clearInterval","timeout","close","unref","ref","enroll","item","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","__webpack_require__","setImmediate","clearImmediate","d","__webpack_exports__","getUserAccount","updateUserPassword","updateAccountPassword","getAvailableProducts","canPlaceOrder","getProductDetail","getDayFlowUsage","getAnnouncements","confirmOrder","getOrderHistory","_apibase_js__WEBPACK_IMPORTED_MODULE_0__","params","fetchPost","nextTick","fn","platform","arch","execPath","title","pid","browser","env","argv","binding","name","Error","path","cwd","chdir","dir","resolve","exit","kill","umask","dlopen","uptime","memoryUsage","uvCounters","features","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ProductDetail_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ProductDetail_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","process","undefined","registerImmediate","nextHandle","tasksByHandle","currentlyRunningATask","doc","document","attachTo","Object","getPrototypeOf","toString","installNextTickImplementation","canUsePostMessage","installPostMessageImplementation","MessageChannel","installMessageChannelImplementation","createElement","installReadyStateChangeImplementation","installSetTimeoutImplementation","callback","args","Array","length","i","task","handle","run","runIfPresent","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","messagePrefix","Math","random","onGlobalMessage","event","source","data","indexOf","slice","addEventListener","attachEvent","channel","port1","port2","html","documentElement","script","onreadystatechange","removeChild","appendChild","render","_vm","_h","$createElement","_c","_self","model","value","$$v","loading","expression","staticClass","on","click","$event","$router","push","_v","_s","price","$formatFlow","product","flow","$formatTimeFromSeconds","duration","attrs","staticStyle","width","vertical-align","src","alipay","qrcode","alt","height","class","d-none","remainSeconds","color","href","target","directives","rawName","remainSecondsText","_e","wechatpay","variant","type","disabled","completed","confirmOrderText","no-close-on-backdrop","ok-only","ok","completeOrder","orderHint","orderHintText","staticRenderFns","WaitingSeconds","ProductDetailvue_type_script_lang_js_","components","LoadingModal","computed","parseInt","$route","toFixed","created","_this","user","then","resp","go","status","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","qrcodes","Symbol","iterator","next","done","category","err","return","remainTimer","main","alert","methods","cancleOrder","_this2","component","componentNormalizer","user_ProductDetailvue_type_script_lang_js_","options","__file","normalizeArray","parts","allowAboveRoot","up","last","splice","unshift","splitPathRe","splitPath","filename","exec","filter","xs","f","res","resolvedPath","resolvedAbsolute","TypeError","charAt","split","p","normalize","isAbsolute","trailingSlash","join","paths","index","relative","from","to","trim","arr","start","end","substr","fromParts","min","toParts","samePartsLength","outputParts","sep","dirname","result","root","basename","ext","extname","str","len","visible","size","LoadingModalvue_type_script_lang_js_","props","String","default","Boolean","prop","components_LoadingModalvue_type_script_lang_js_"],"mappings":"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","file":"vstatic/js/chunk-5d94552a.94c01ad9.js","sourcesContent":["var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n","import {fetchPost} from './apibase.js'\r\n\r\nexport const getUserAccount = function(params) {\r\n    return fetchPost('/api/user/accountDetail', params);\r\n}\r\n\r\nexport const updateUserPassword = function(params) {\r\n    return fetchPost('/api/user/updatePassword', params);\r\n}\r\n\r\nexport const updateAccountPassword = function(params) {\r\n    return fetchPost('/api/user/account/updatePassword', params);\r\n}\r\n\r\nexport const getAvailableProducts = function(params) {\r\n    return fetchPost('/api/user/product/getAll', params);\r\n}\r\n\r\nexport const canPlaceOrder = function(params) {\r\n    return fetchPost('/api/user/product/canPlace', params);\r\n}\r\n\r\nexport const getProductDetail = function(params) {\r\n    return fetchPost('/api/user/product/getDetail', params);\r\n}\r\n\r\nexport const getDayFlowUsage = function(params) {\r\n    return fetchPost('/api/user/flowUsage/getInDay', params)\r\n}\r\n\r\nexport const getMonFlowUsage = function(params) {\r\n    return fetchPost('/api/user/flowUsage/getInMon', params)\r\n}\r\n\r\nexport const getAnnouncements = function(params) {\r\n    return fetchPost('/api/user/announcement/getAll', params)\r\n}\r\n// ====================\r\n\r\nexport const confirmOrder = function(params) {\r\n    return fetchPost('/api/user/product/confirm', params);\r\n}\r\n\r\nexport const getOrderHistory = function(params) {\r\n    return fetchPost('/api/user/orderHistory/get', params);\r\n}","exports.nextTick = function nextTick(fn) {\n\tsetTimeout(fn, 0);\n};\n\nexports.platform = exports.arch = \nexports.execPath = exports.title = 'browser';\nexports.pid = 1;\nexports.browser = true;\nexports.env = {};\nexports.argv = [];\n\nexports.binding = function (name) {\n\tthrow new Error('No such module. (Possibly not yet loaded)')\n};\n\n(function () {\n    var cwd = '/';\n    var path;\n    exports.cwd = function () { return cwd };\n    exports.chdir = function (dir) {\n        if (!path) path = require('path');\n        cwd = path.resolve(dir, cwd);\n    };\n})();\n\nexports.exit = exports.kill = \nexports.umask = exports.dlopen = \nexports.uptime = exports.memoryUsage = \nexports.uvCounters = function() {};\nexports.features = {};\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductDetail.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductDetail.vue?vue&type=style&index=0&lang=css&\"","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 6–8\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('loading-modal',{model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}}),_c('div',{staticClass:\"text-primary text-center row mx-0\"},[_c('div',{staticClass:\"col-6 col-sm-3\"},[_c('b-button',{on:{\"click\":function($event){_vm.$router.push({path: '/product'})}}},[_vm._v(\"选择其他方案\")])],1),_c('div',{staticClass:\"col-6 col-sm-3 h3\"},[_vm._v(\"价格：￥\"+_vm._s(_vm.price))]),_c('div',{staticClass:\"col-6 col-sm-3 h3\"},[_vm._v(\"流量：\"+_vm._s(_vm.$formatFlow(_vm.product.flow, 'MB')))]),_c('div',{staticClass:\"col-6 col-sm-3 h3\"},[_vm._v(_vm._s('时长：')+\" \"+_vm._s(_vm.$formatTimeFromSeconds(_vm.product.duration)))])]),_c('hr'),(_vm.alipay)?_c('b-card',[_c('div',[_c('div',{staticClass:\"text-center\",attrs:{\"id\":\"alipay_qrcode\"}},[_c('p',[_vm._v(\"扫一扫付款（元）\")]),_c('p',{staticClass:\"h3 text-danger font-weight-bold\"},[_vm._v(_vm._s(_vm.price))]),_c('div',{staticClass:\"mx-auto card py-1\",staticStyle:{\"width\":\"220px\"}},[_c('img',{staticClass:\"d-block qrcode-img-fixed mx-auto\",staticStyle:{\"vertical-align\":\"top\"},attrs:{\"src\":'data:image/png;base64, ' + _vm.alipay.qrcode,\"alt\":\"二维码已过期\"}}),_c('div',{staticStyle:{\"height\":\"42px\"}},[_c('img',{staticClass:\"pb-4\",attrs:{\"src\":\"https://t.alipayobjects.com/images/T1bdtfXfdiXXXXXXXX.png\",\"alt\":\"扫一扫标识\"}}),_c('div',{staticClass:\"d-inline-block\"},[_vm._v(\"\\r\\n              打开手机支付宝\"),_c('br'),_vm._v(\"扫一扫继续付款\\r\\n            \")])]),_c('div',{staticClass:\"timeout\",class:{'d-none': (_vm.remainSeconds > 0)}},[_vm._v(\"二维码已过期\")])]),_c('a',{staticStyle:{\"color\":\"#a6a6a6\"},attrs:{\"href\":\"https://mobile.alipay.com/index.htm\",\"target\":\"_blank\"}},[_vm._v(\"\\r\\n          首次使用请下载手机支付宝\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.remainSeconds>0),expression:\"remainSeconds>0\"}]},[_vm._v(\"请于 \"+_vm._s(_vm.remainSecondsText)+\" 内支付\")])])])]):_vm._e(),(_vm.wechatpay)?_c('b-card',[_c('div',{staticClass:\"d-block mx-3\"},[_c('h3',{staticClass:\"d-block text-center\"},[_vm._v(_vm._s('Wechatpay'))]),_c('img',{staticClass:\"d-block qrcode-img-fixed mx-auto\",attrs:{\"src\":'data:image/png;base64, ' + _vm.wechatpay.qrcode}})])]):_vm._e(),_c('div',{staticClass:\"pt-2\"},[_c('b-button',{staticClass:\"float-right mr-4\",attrs:{\"variant\":\"primary\",\"type\":\"button\",\"disabled\":!_vm.completed || (_vm.remainSeconds === 0)},on:{\"click\":function($event){_vm.confirmOrder()}}},[_vm._v(\"\\r\\n      \"+_vm._s(_vm.confirmOrderText)+\"\\r\\n    \")])],1),_c('b-modal',{attrs:{\"title\":\"完成订单\",\"no-close-on-backdrop\":true,\"ok-only\":true},on:{\"ok\":function($event){_vm.completeOrder()}},model:{value:(_vm.orderHint),callback:function ($$v) {_vm.orderHint=$$v},expression:\"orderHint\"}},[_c('p',[_vm._v(_vm._s(_vm.orderHintText))])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<div>\r\n  <loading-modal v-model=\"loading\" />\r\n  <div class=\"text-primary text-center row mx-0\">\r\n    <div class=\"col-6 col-sm-3\">\r\n      <b-button @click=\"$router.push({path: '/product'})\">选择其他方案</b-button>\r\n    </div>\r\n    <div class=\"col-6 col-sm-3 h3\">价格：￥{{ price }}</div>\r\n    <div class=\"col-6 col-sm-3 h3\">流量：{{ $formatFlow(product.flow, 'MB') }}</div>\r\n    <div class=\"col-6 col-sm-3 h3\">{{ '时长：' }} {{ $formatTimeFromSeconds(product.duration) }}</div>\r\n  </div>\r\n  <hr />\r\n  <b-card v-if=\"alipay\">\r\n    <div>\r\n      <div class=\"text-center\" id=\"alipay_qrcode\">\r\n        <p>扫一扫付款（元）</p>\r\n        <p class=\"h3 text-danger font-weight-bold\">{{price}}</p>\r\n        <div style=\"width: 220px;\" class=\"mx-auto card py-1\">\r\n          <img style=\"vertical-align: top\" \r\n            :src=\"'data:image/png;base64, ' + alipay.qrcode\" \r\n            class=\"d-block qrcode-img-fixed mx-auto\" alt=\"二维码已过期\"/>\r\n          <div style=\"height:42px;\">\r\n            <img src=\"https://t.alipayobjects.com/images/T1bdtfXfdiXXXXXXXX.png\"\r\n              alt=\"扫一扫标识\" class=\"pb-4\">\r\n            <div class=\"d-inline-block\">\r\n              打开手机支付宝<br>扫一扫继续付款\r\n            </div>\r\n          </div>\r\n          <div class=\"timeout\" :class=\"{'d-none': (remainSeconds > 0)}\">二维码已过期</div>\r\n        </div>\r\n        <a style=\"color: #a6a6a6;\" href=\"https://mobile.alipay.com/index.htm\" target=\"_blank\">\r\n          首次使用请下载手机支付宝</a>\r\n        <div v-show=\"remainSeconds>0\">请于 {{ remainSecondsText }} 内支付</div>\r\n      </div>\r\n    </div>\r\n  </b-card>\r\n  <b-card v-if=\"wechatpay\">\r\n    <div class=\"d-block mx-3\">\r\n      <h3 class=\"d-block text-center\">{{ 'Wechatpay' }}</h3>\r\n      <img :src=\"'data:image/png;base64, ' + wechatpay.qrcode\" class=\"d-block qrcode-img-fixed mx-auto\"/>\r\n    </div>\r\n  </b-card>\r\n\r\n  <div class=\"pt-2\">\r\n    <b-button variant=\"primary\" type=\"button\" class=\"float-right mr-4\" \r\n      :disabled=\"!completed || (remainSeconds === 0)\"\r\n      @click=\"confirmOrder()\">\r\n      {{ confirmOrderText }}\r\n    </b-button>\r\n  </div>\r\n  <b-modal title=\"完成订单\" :no-close-on-backdrop=\"true\" \r\n    :ok-only=\"true\" v-model=\"orderHint\" @ok=\"completeOrder()\">\r\n    <p>{{orderHintText}}</p>\r\n  </b-modal>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {getProductDetail, confirmOrder, canPlaceOrder} from '@/apis/user'\r\nimport { setTimeout, setInterval, clearInterval } from 'timers';\r\nimport LoadingModal from '@/components/LoadingModal.vue'\r\n\r\nconst WaitingSeconds = 20 * 1000;\r\nexport default {\r\n  name: 'userProductDetail',\r\n  components: {\r\n    LoadingModal\r\n  },\r\n  data() {\r\n    return {\r\n      product: {},\r\n      alipay: null,\r\n      wechatpay: null,\r\n      completed: false,\r\n      orderHint: false,\r\n      orderHintText: '',\r\n      remainSeconds: 90,\r\n      confirmOrderText: '确认支付',\r\n      loading: true,\r\n    }\r\n  },\r\n  computed: {\r\n    pid() {\r\n      return parseInt(this.$route.params.id)\r\n    },\r\n    price() {\r\n      if(this.product.price)\r\n        return this.product.price.toFixed(1)\r\n      return 5\r\n    },\r\n    remainSecondsText() {\r\n      if(this.remainSeconds > 60) {\r\n        return '1 分钟'\r\n      }\r\n      return this.remainSeconds + ' 秒'\r\n    }\r\n  },\r\n  created() {\r\n    canPlaceOrder().then( resp => {\r\n      if(resp.canPlaceOrder === false) {\r\n        this.$router.go(-1);\r\n      }\r\n    })\r\n    getProductDetail({ product: this.pid}).then( resp => {\r\n      this.loading = false;\r\n      if( resp.status === 'success') {\r\n        this.product = resp.product;\r\n        for(let qrcode of resp.qrcodes) {\r\n          if( qrcode ) {\r\n            if( qrcode.category === 'alipay') {\r\n              this.alipay = qrcode;\r\n            } else if ( qrcode.category === 'wechatpay') {\r\n              this.wechatpay = qrcode;\r\n            }\r\n          }\r\n        }\r\n        let remainTimer = setInterval(() => {\r\n          this.remainSeconds -= 1;\r\n          if(this.remainSeconds == 0) {\r\n            this.confirmOrderText = '二维码已失效'\r\n            clearInterval(remainTimer)\r\n          }\r\n        }, 1000)\r\n        setTimeout(() => {\r\n          this.completed = true;\r\n        }, WaitingSeconds);\r\n      }\r\n      else\r\n        alert(\"Invalid Product\")\r\n    })\r\n  },\r\n  methods: {\r\n    cancleOrder() {\r\n      this.$route.go(-1)\r\n    },\r\n    confirmOrder() {\r\n      // let resp = {'status': 'success'};\r\n      confirmOrder({product: this.pid}).then( resp => {\r\n        if( resp.status === 'success') {\r\n          this.orderHintText = \"完成订单，从现在起你可以使用翻墙服务 30 天。\\\r\n          点击下方的按钮，查看服务器、账户和密码\";\r\n        } else {\r\n          this.orderHintText = \"订单失败，请联系管理员\";\r\n        }\r\n        this.orderHint = true;\r\n        // console.log(resp)\r\n      })\r\n    },\r\n    completeOrder() {\r\n      this.$router.push({path: `/account`})\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.qrcode-img-fixed {\r\n  width: 180px;\r\n  height: 180px;\r\n  /* min-width: 220px;\r\n  max-width: 260px;\r\n  min-height: 220px;\r\n  max-height: 260px; */\r\n}\r\n.timeout {\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  background: rgba(255,255,255,.95);\r\n  color: #222;\r\n  line-height: 200px;\r\n  text-align: center;\r\n  z-index: 1;\r\n}\r\n</style>\r\n","import { render, staticRenderFns } from \"./ProductDetail.vue?vue&type=template&id=d1f0b124&\"\nimport script from \"./ProductDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./ProductDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProductDetail.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"ProductDetail.vue\"\nexport default component.exports","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// Split a filename into [root, dir, basename, ext], unix version\n// 'root' is just a slash, or nothing.\nvar splitPathRe =\n    /^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;\nvar splitPath = function(filename) {\n  return splitPathRe.exec(filename).slice(1);\n};\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function(path) {\n  var result = splitPath(path),\n      root = result[0],\n      dir = result[1];\n\n  if (!root && !dir) {\n    // No dirname whatsoever\n    return '.';\n  }\n\n  if (dir) {\n    // It has a dirname, strip trailing slash\n    dir = dir.substr(0, dir.length - 1);\n  }\n\n  return root + dir;\n};\n\n\nexports.basename = function(path, ext) {\n  var f = splitPath(path)[2];\n  // TODO: make this comparison case-insensitive on windows?\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\n\nexports.extname = function(path) {\n  return splitPath(path)[3];\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-modal',{attrs:{\"title\":_vm.title,\"visible\":_vm.loading,\"ok-only\":true}},[_c('div',[_c('a-spin',{attrs:{\"size\":\"large\"}},[_vm._v(\"loading\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<b-modal :title=\"title\" :visible=\"loading\" :ok-only=\"true\">\r\n  <div>\r\n    <a-spin size=\"large\">loading</a-spin>\r\n  </div>\r\n</b-modal>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'loadingModal',\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      default: \"加载数据中\"\r\n    },\r\n    loading: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n  },\r\n  model: {\r\n    prop: 'loading',\r\n    \r\n  }\r\n}\r\n</script>\r\n","import { render, staticRenderFns } from \"./LoadingModal.vue?vue&type=template&id=87d49acc&\"\nimport script from \"./LoadingModal.vue?vue&type=script&lang=js&\"\nexport * from \"./LoadingModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"LoadingModal.vue\"\nexport default component.exports"],"sourceRoot":""}