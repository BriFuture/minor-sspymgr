{"version":3,"sources":["webpack:///./src/apis/user.js","webpack:///./src/views/user/Setting.vue?08af","webpack:///./src/components/UserUpdatePassword.vue?66a9","webpack:///src/components/UserUpdatePassword.vue","webpack:///./src/components/UserUpdatePassword.vue?de7c","webpack:///./src/components/UserUpdatePassword.vue","webpack:///src/views/user/Setting.vue","webpack:///./src/views/user/Setting.vue?17ef","webpack:///./src/views/user/Setting.vue"],"names":["__webpack_require__","d","__webpack_exports__","getUserAccount","updateUserPassword","updateAccountPassword","getAvailableProducts","canPlaceOrder","getProductDetail","getDayFlowUsage","getAnnouncements","confirmOrder","getOrderHistory","_apibase_js__WEBPACK_IMPORTED_MODULE_0__","params","fetchPost","render","_vm","this","_h","$createElement","_c","_self","attrs","deck","staticClass","title","staticRenderFns","UserUpdatePasswordvue_type_template_id_90dc0754_render","role","autocomplete","id","novalidate","method","state","oldState","invalid-feedback","oldHint","for","_v","_s","type","placeholder","required","model","value","callback","$$v","oldPassword","expression","newState","newHint","pwInputType","newPassword","on","change","$event","showNewPassword","variant","disabled","canUpdate","click","toUpdatePassword","ok-only","passwordModal","UserUpdatePasswordvue_type_template_id_90dc0754_staticRenderFns","UserUpdatePasswordvue_type_script_lang_js_","name","data","computed","length","methods","_this","Object","user","then","resp","components_UserUpdatePasswordvue_type_script_lang_js_","component","componentNormalizer","options","__file","UserUpdatePassword","Settingvue_type_script_lang_js_","components","UpdatePassword","user_Settingvue_type_script_lang_js_","Setting_component"],"mappings":"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","file":"vstatic/js/chunk-65d6aa86.0f861a8d.js","sourcesContent":["import {fetchPost} from './apibase.js'\r\n\r\nexport const getUserAccount = function(params) {\r\n    return fetchPost('/api/user/accountDetail', params);\r\n}\r\n\r\nexport const updateUserPassword = function(params) {\r\n    return fetchPost('/api/user/updatePassword', params);\r\n}\r\n\r\nexport const updateAccountPassword = function(params) {\r\n    return fetchPost('/api/user/account/updatePassword', params);\r\n}\r\n\r\nexport const getAvailableProducts = function(params) {\r\n    return fetchPost('/api/user/product/getAll', params);\r\n}\r\n\r\nexport const canPlaceOrder = function(params) {\r\n    return fetchPost('/api/user/product/canPlace', params);\r\n}\r\n\r\nexport const getProductDetail = function(params) {\r\n    return fetchPost('/api/user/product/getDetail', params);\r\n}\r\n\r\nexport const getDayFlowUsage = function(params) {\r\n    return fetchPost('/api/user/flowUsage/getInDay', params)\r\n}\r\n\r\nexport const getMonFlowUsage = function(params) {\r\n    return fetchPost('/api/user/flowUsage/getInMon', params)\r\n}\r\n\r\nexport const getAnnouncements = function(params) {\r\n    return fetchPost('/api/user/announcement/getAll', params)\r\n}\r\n// ====================\r\n\r\nexport const confirmOrder = function(params) {\r\n    return fetchPost('/api/user/product/confirm', params);\r\n}\r\n\r\nexport const getOrderHistory = function(params) {\r\n    return fetchPost('/api/user/orderHistory/get', params);\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-card-group',{attrs:{\"deck\":\"\"}},[_c('b-card',{staticClass:\"col-12 col-sm-8\",attrs:{\"title\":\"修改登录密码\"}},[_c('update-password')],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-form',{staticClass:\"form needs-validation\",attrs:{\"role\":\"form\",\"autocomplete\":\"off\",\"id\":\"formSignin\",\"novalidate\":\"\",\"method\":\"post\"}},[_c('b-form-group',{attrs:{\"state\":_vm.oldState,\"invalid-feedback\":_vm.oldHint}},[_c('b-input-group',[_c('label',{staticClass:\"my-auto mr-2\",attrs:{\"for\":\"oldPassword\"}},[_vm._v(_vm._s('旧密码：'))]),_c('b-form-input',{staticClass:\"form-control\",attrs:{\"type\":\"password\",\"id\":\"oldPassword\",\"placeholder\":\"旧密码\",\"required\":\"\",\"state\":_vm.oldState},model:{value:(_vm.oldPassword),callback:function ($$v) {_vm.oldPassword=$$v},expression:\"oldPassword\"}})],1)],1),_c('b-form-group',{attrs:{\"state\":_vm.newState,\"invalid-feedback\":_vm.newHint}},[_c('b-input-group',[_c('label',{staticClass:\"my-auto mr-2\",attrs:{\"for\":\"newPassword\"}},[_vm._v(_vm._s('新密码：'))]),_c('b-form-input',{attrs:{\"type\":_vm.pwInputType,\"id\":\"newPassword\",\"state\":_vm.newState,\"placeholder\":\"New Password\",\"required\":\"\"},model:{value:(_vm.newPassword),callback:function ($$v) {_vm.newPassword=$$v},expression:\"newPassword\"}}),_c('b-form-checkbox',{staticClass:\"my-auto ml-3\",on:{\"change\":function($event){_vm.showNewPassword()}}},[_vm._v(\"\\n          \"+_vm._s('显示新密码')+\"\\n        \")])],1)],1),_c('b-form-group',[_c('b-button',{staticClass:\"btn-lg mx-auto\",attrs:{\"variant\":\"primary\",\"disabled\":!_vm.canUpdate,\"type\":\"button\",\"id\":\"updateBtn\"},on:{\"click\":function($event){_vm.toUpdatePassword()}}},[_vm._v(_vm._s('Update'))])],1)],1),_c('b-modal',{attrs:{\"title\":\"修改密码\",\"ok-only\":true},model:{value:(_vm.passwordModal),callback:function ($$v) {_vm.passwordModal=$$v},expression:\"passwordModal\"}},[_c('div',{staticClass:\"text-success text-lg\"},[_vm._v(\"成功修改密码\")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <b-form class=\"form needs-validation\" role=\"form\" autocomplete=\"off\" id=\"formSignin\" novalidate method=\"post\">\r\n      <b-form-group :state=\"oldState\" :invalid-feedback=\"oldHint\">\r\n        <b-input-group>\r\n          <label for=\"oldPassword\" class=\"my-auto mr-2\">{{ '旧密码：' }}</label>\r\n          <b-form-input type=\"password\" id=\"oldPassword\" class=\"form-control\" \r\n            placeholder=\"旧密码\" required=\"\" \r\n            :state=\"oldState\" v-model=\"oldPassword\" />\r\n        </b-input-group>\r\n      </b-form-group>\r\n      <b-form-group :state=\"newState\" :invalid-feedback=\"newHint\">\r\n        <b-input-group>\r\n          <label for=\"newPassword\" class=\"my-auto mr-2\">{{ '新密码：' }}</label>\r\n          <b-form-input :type=\"pwInputType\" id=\"newPassword\"\r\n            v-model=\"newPassword\" :state=\"newState\"\r\n            placeholder=\"New Password\" required=\"\" />\r\n          <b-form-checkbox class=\"my-auto ml-3\" @change=\"showNewPassword()\">\r\n            {{ '显示新密码' }}\r\n          </b-form-checkbox>\r\n        </b-input-group>\r\n      </b-form-group>\r\n      <b-form-group>\r\n        <b-button variant=\"primary\" class=\"btn-lg mx-auto\" :disabled=\"!canUpdate\" \r\n          type=\"button\" id=\"updateBtn\" @click=\"toUpdatePassword()\">{{ 'Update' }}</b-button>\r\n      </b-form-group>\r\n    </b-form>\r\n    <b-modal title=\"修改密码\" v-model=\"passwordModal\" :ok-only=\"true\">\r\n      <div class=\"text-success text-lg\">成功修改密码</div>\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {updateUserPassword} from '@/apis/user'\r\nexport default {\r\n  name: 'userUpdatePassword',\r\n  data() {\r\n    return {\r\n      oldPassword: null,\r\n      newPassword: null,\r\n      oldState: null,\r\n      oldHint: \"\",\r\n      newHint: \"输入新密码\",\r\n      pwInputType: \"password\",\r\n      passwordModal: false\r\n    }\r\n  },\r\n  computed: {\r\n    newState() {\r\n      if(this.newPassword === null) {\r\n        return null;\r\n      }\r\n      \r\n      return this.newPassword.length > 5 ? true : false;\r\n    },\r\n    canUpdate() {\r\n      if(this.newState && this.oldPassword !== null) {\r\n        return true;  \r\n      } \r\n      return false;\r\n    }\r\n  },\r\n  methods: {\r\n    showNewPassword() {\r\n      if( this.pwInputType === 'password')\r\n        this.pwInputType = \"text\"\r\n      else\r\n        this.pwInputType = \"password\"\r\n    },\r\n    toUpdatePassword() {\r\n      this.oldState = null;\r\n      updateUserPassword({ \r\n        oldPassword: this.oldPassword,\r\n        newPassword: this.newPassword\r\n      }).then( resp => {\r\n        if( resp === 'success') {\r\n          this.passwordModal = true\r\n        } else {\r\n          this.oldState = false;\r\n          this.oldHint = \"密码错误\"\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserUpdatePassword.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserUpdatePassword.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserUpdatePassword.vue?vue&type=template&id=90dc0754&\"\nimport script from \"./UserUpdatePassword.vue?vue&type=script&lang=js&\"\nexport * from \"./UserUpdatePassword.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"UserUpdatePassword.vue\"\nexport default component.exports","<template>\r\n<div>\r\n  <b-card-group deck>\r\n    <b-card class=\"col-12 col-sm-8\" title=\"修改登录密码\">\r\n      <update-password />\r\n    </b-card>\r\n  </b-card-group>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport UpdatePassword from '@/components/UserUpdatePassword.vue'\r\nexport default {\r\n  name: 'userSetting',\r\n  components: {\r\n    UpdatePassword\r\n  }\r\n}\r\n</script>\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Setting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Setting.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Setting.vue?vue&type=template&id=0f020ed5&\"\nimport script from \"./Setting.vue?vue&type=script&lang=js&\"\nexport * from \"./Setting.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Setting.vue\"\nexport default component.exports"],"sourceRoot":""}